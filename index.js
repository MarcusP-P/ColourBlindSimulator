(()=>{"use strict";var __webpack_modules__={773:(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.Matrix = void 0;\nclass Matrix {\n}\nexports.Matrix = Matrix;\n/**\n * n x m matrix transposes to an m x n\n */\nMatrix.transpose = (A) => {\n    var _a;\n    const n = A.length || 0;\n    const m = (_a = A[0]) === null || _a === void 0 ? void 0 : _a.length;\n    const A_t = Identity_3x3();\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < m; j++) {\n            A_t[j][i] = A[i][j];\n        }\n    }\n    return A_t;\n};\n/**\n * Return inverse of a matrix (if invertible)\n * Throws if matrix not invertible.\n */\nMatrix.inv = (A) => {\n    const res = Identity_3x3();\n    const [[a, b, c], [d, e, f], [h, i, j]] = A;\n    const det = a * e * j - a * f * i - b * d * j + b * f * h + c * d * i - c * e * h;\n    if (det === 0) {\n        throw new Error("Matrix not invertible");\n    }\n    const detInv = 1 / det;\n    res[0][0] = detInv * (e * j - f * i);\n    res[0][1] = detInv * (c * i - b * j);\n    res[0][2] = detInv * (b * f - c * e);\n    res[1][0] = detInv * (f * h - d * j);\n    res[1][1] = detInv * (a * j - c * h);\n    res[1][2] = detInv * (c * d - a * f);\n    res[2][0] = detInv * (d * i - e * h);\n    res[2][1] = detInv * (b * h - a * i);\n    res[2][2] = detInv * (a * e - b * d);\n    return res;\n};\nMatrix.multiply_3x3_times_triple = (A, x) => {\n    const [[a, b, c], [d, e, f], [g, h, i]] = A;\n    const [t, u, v] = x;\n    return [\n        a * t + b * u + c * v,\n        d * t + e * u + f * v,\n        g * t + h * u + i * v,\n    ];\n};\nMatrix.multiply_triple_times_3x3 = (x, A) => {\n    const [t, u, v] = x;\n    const [[a, b, c], [d, e, f], [g, h, i]] = A;\n    return [\n        a * t + d * u + g * v,\n        b * t + e * u + h * v,\n        c * t + f * u + i * v,\n    ];\n};\nMatrix.multiply_3x3_times_3x3 = (A, B) => {\n    const [[a, b, c], [d, e, f], [g, h, i]] = A;\n    const [[j, k, l], [m, n, o], [p, q, r]] = B;\n    return [\n        [a * j + b * m + c * p, a * k + b * n + c * q, a * l + b * o + c * r],\n        [d * j + e * m + f * p, d * k + e * n + f * q, d * l + e * o + f * r],\n        [g * j + h * m + i * p, g * k + h * n + i * q, g * l + h * o + i * r],\n    ];\n};\nconst Identity_3x3 = () => [\n    [1, 0, 0],\n    [0, 1, 0],\n    [0, 0, 1],\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzczLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQix3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2xvdXItYmxpbmQtc2ltdWxhdG9yLy4vbm9kZV9tb2R1bGVzL2NpZS1jb2xvcmNvbnZlcnRlci9kaXN0L01hdHJpeC5qcz80NmZkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NYXRyaXggPSB2b2lkIDA7XG5jbGFzcyBNYXRyaXgge1xufVxuZXhwb3J0cy5NYXRyaXggPSBNYXRyaXg7XG4vKipcbiAqIG4geCBtIG1hdHJpeCB0cmFuc3Bvc2VzIHRvIGFuIG0geCBuXG4gKi9cbk1hdHJpeC50cmFuc3Bvc2UgPSAoQSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBuID0gQS5sZW5ndGggfHwgMDtcbiAgICBjb25zdCBtID0gKF9hID0gQVswXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aDtcbiAgICBjb25zdCBBX3QgPSBJZGVudGl0eV8zeDMoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG07IGorKykge1xuICAgICAgICAgICAgQV90W2pdW2ldID0gQVtpXVtqXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQV90O1xufTtcbi8qKlxuICogUmV0dXJuIGludmVyc2Ugb2YgYSBtYXRyaXggKGlmIGludmVydGlibGUpXG4gKiBUaHJvd3MgaWYgbWF0cml4IG5vdCBpbnZlcnRpYmxlLlxuICovXG5NYXRyaXguaW52ID0gKEEpID0+IHtcbiAgICBjb25zdCByZXMgPSBJZGVudGl0eV8zeDMoKTtcbiAgICBjb25zdCBbW2EsIGIsIGNdLCBbZCwgZSwgZl0sIFtoLCBpLCBqXV0gPSBBO1xuICAgIGNvbnN0IGRldCA9IGEgKiBlICogaiAtIGEgKiBmICogaSAtIGIgKiBkICogaiArIGIgKiBmICogaCArIGMgKiBkICogaSAtIGMgKiBlICogaDtcbiAgICBpZiAoZGV0ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hdHJpeCBub3QgaW52ZXJ0aWJsZVwiKTtcbiAgICB9XG4gICAgY29uc3QgZGV0SW52ID0gMSAvIGRldDtcbiAgICByZXNbMF1bMF0gPSBkZXRJbnYgKiAoZSAqIGogLSBmICogaSk7XG4gICAgcmVzWzBdWzFdID0gZGV0SW52ICogKGMgKiBpIC0gYiAqIGopO1xuICAgIHJlc1swXVsyXSA9IGRldEludiAqIChiICogZiAtIGMgKiBlKTtcbiAgICByZXNbMV1bMF0gPSBkZXRJbnYgKiAoZiAqIGggLSBkICogaik7XG4gICAgcmVzWzFdWzFdID0gZGV0SW52ICogKGEgKiBqIC0gYyAqIGgpO1xuICAgIHJlc1sxXVsyXSA9IGRldEludiAqIChjICogZCAtIGEgKiBmKTtcbiAgICByZXNbMl1bMF0gPSBkZXRJbnYgKiAoZCAqIGkgLSBlICogaCk7XG4gICAgcmVzWzJdWzFdID0gZGV0SW52ICogKGIgKiBoIC0gYSAqIGkpO1xuICAgIHJlc1syXVsyXSA9IGRldEludiAqIChhICogZSAtIGIgKiBkKTtcbiAgICByZXR1cm4gcmVzO1xufTtcbk1hdHJpeC5tdWx0aXBseV8zeDNfdGltZXNfdHJpcGxlID0gKEEsIHgpID0+IHtcbiAgICBjb25zdCBbW2EsIGIsIGNdLCBbZCwgZSwgZl0sIFtnLCBoLCBpXV0gPSBBO1xuICAgIGNvbnN0IFt0LCB1LCB2XSA9IHg7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYSAqIHQgKyBiICogdSArIGMgKiB2LFxuICAgICAgICBkICogdCArIGUgKiB1ICsgZiAqIHYsXG4gICAgICAgIGcgKiB0ICsgaCAqIHUgKyBpICogdixcbiAgICBdO1xufTtcbk1hdHJpeC5tdWx0aXBseV90cmlwbGVfdGltZXNfM3gzID0gKHgsIEEpID0+IHtcbiAgICBjb25zdCBbdCwgdSwgdl0gPSB4O1xuICAgIGNvbnN0IFtbYSwgYiwgY10sIFtkLCBlLCBmXSwgW2csIGgsIGldXSA9IEE7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYSAqIHQgKyBkICogdSArIGcgKiB2LFxuICAgICAgICBiICogdCArIGUgKiB1ICsgaCAqIHYsXG4gICAgICAgIGMgKiB0ICsgZiAqIHUgKyBpICogdixcbiAgICBdO1xufTtcbk1hdHJpeC5tdWx0aXBseV8zeDNfdGltZXNfM3gzID0gKEEsIEIpID0+IHtcbiAgICBjb25zdCBbW2EsIGIsIGNdLCBbZCwgZSwgZl0sIFtnLCBoLCBpXV0gPSBBO1xuICAgIGNvbnN0IFtbaiwgaywgbF0sIFttLCBuLCBvXSwgW3AsIHEsIHJdXSA9IEI7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgW2EgKiBqICsgYiAqIG0gKyBjICogcCwgYSAqIGsgKyBiICogbiArIGMgKiBxLCBhICogbCArIGIgKiBvICsgYyAqIHJdLFxuICAgICAgICBbZCAqIGogKyBlICogbSArIGYgKiBwLCBkICogayArIGUgKiBuICsgZiAqIHEsIGQgKiBsICsgZSAqIG8gKyBmICogcl0sXG4gICAgICAgIFtnICogaiArIGggKiBtICsgaSAqIHAsIGcgKiBrICsgaCAqIG4gKyBpICogcSwgZyAqIGwgKyBoICogbyArIGkgKiByXSxcbiAgICBdO1xufTtcbmNvbnN0IElkZW50aXR5XzN4MyA9ICgpID0+IFtcbiAgICBbMSwgMCwgMF0sXG4gICAgWzAsIDEsIDBdLFxuICAgIFswLCAwLCAxXSxcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///773\n')},564:(__unused_webpack_module,exports,__webpack_require__)=>{eval('var __webpack_unused_export__;\n\n// See http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html for details on these computations.\n__webpack_unused_export__ = ({ value: true });\nexports.N = void 0;\nconst Matrix_1 = __webpack_require__(773);\nclass ColorConverter {\n    // Constructor\n    constructor({ RefWhite = "D50", RgbModel = "sRGB", GammaModel = "sRGB", Adaptation = "Bradford", } = {}) {\n        // Properties to be set on instantiation\n        this.RefWhite = "D50";\n        this.RgbModel = "sRGB";\n        this.GammaModel = "sRGB";\n        this.Adaptation = "Bradford";\n        this.kE = 216 / 24389;\n        this.kK = 24389 / 27;\n        this.RefWhite = RefWhite;\n        this.RgbModel = RgbModel;\n        this.GammaModel = GammaModel;\n        this.Adaptation = Adaptation;\n    }\n    // Computed: RefWhite Matrix\n    get Mtx_RefWhite() {\n        switch (this.RefWhite) {\n            case "A":\n                return [1.0985, 1, 0.35585];\n            case "B":\n                return [0.99072, 1, 0.85223];\n            case "C":\n                return [0.98074, 1, 1.18232];\n            case "D50":\n                return [0.96422, 1, 0.82521];\n            case "D55":\n                return [0.95682, 1, 0.92149];\n            case "D65":\n                return [0.95047, 1, 1.0888];\n            case "D75":\n                return [0.94972, 1, 1.22638];\n            case "E":\n                return [1, 1, 1];\n            case "F2":\n                return [0.99186, 1, 0.67393];\n            case "F7":\n                return [0.95041, 1, 1.08747];\n            case "F11":\n                return [1.00962, 1, 0.6435];\n            default:\n                return [1, 1, 1];\n        }\n    }\n    // Computed: RefWhite RGB Matrix\n    get Mtx_RefWhiteRGB() {\n        switch (this.RgbModel) {\n            case "Adobe RGB (1998)":\n                return [0.95047, 1, 1.08883];\n            case "AppleRGB":\n                return [0.95047, 1, 1.08883];\n            case "Best RGB":\n                return [0.96422, 1, 0.82521];\n            case "Beta RGB":\n                return [0.96422, 1, 0.82521];\n            case "Bruce RGB":\n                return [0.95047, 1, 1.08883];\n            case "CIE RGB":\n                return [1, 1, 1];\n            case "ColorMatch RGB":\n                return [0.96422, 1, 0.82521];\n            case "Don RGB 4":\n                return [0.96422, 1, 0.82521];\n            case "ECI RGB v2":\n                return [0.96422, 1, 0.82521];\n            case "Ekta Space PS5":\n                return [0.96422, 1, 0.82521];\n            case "NTSC RGB":\n                return [0.98074, 1, 1.18232];\n            case "PAL/SECAM RGB":\n                return [0.95047, 1, 1.08883];\n            case "ProPhoto RGB":\n                return [0.96422, 1, 0.82521];\n            case "SMPTE-C RGB":\n                return [0.95047, 1, 1.08883];\n            case "sRGB":\n                return [0.95047, 1, 1.08883];\n            case "Wide Gamut RGB":\n                return [0.96422, 1, 0.82521];\n        }\n    }\n    // Computed: GammaRGB + Index\n    get GammaRGB() {\n        switch (this.RgbModel) {\n            case "Adobe RGB (1998)":\n                return { value: 2.2, index: 2 };\n            case "AppleRGB":\n                return { value: 1.8, index: 1 };\n            case "Best RGB":\n                return { value: 2.2, index: 2 };\n            case "Beta RGB":\n                return { value: 2.2, index: 2 };\n            case "Bruce RGB":\n                return { value: 2.2, index: 2 };\n            case "CIE RGB":\n                return { value: 2.2, index: 2 };\n            case "ColorMatch RGB":\n                return { value: 1.8, index: 2 };\n            case "Don RGB 4":\n                return { value: 2.2, index: 2 };\n            case "ECI RGB v2":\n                return { value: 0, index: 4 };\n            case "Ekta Space PS5":\n                return { value: 2.2, index: 2 };\n            case "NTSC RGB":\n                return { value: 2.2, index: 2 };\n            case "PAL/SECAM RGB":\n                return { value: 2.2, index: 2 };\n            case "ProPhoto RGB":\n                return { value: 1.8, index: 1 };\n            case "SMPTE-C RGB":\n                return { value: 2.2, index: 2 };\n            case "sRGB":\n                return { value: -2.2, index: 3 };\n            case "Wide Gamut RGB":\n                return { value: 2.2, index: 2 };\n        }\n    }\n    // Computed: Gamma value\n    get Gamma() {\n        switch (this.GammaModel.toString()) {\n            case "1.0":\n                return 1;\n            case "1.8":\n                return 1.8;\n            case "2.2":\n                return 2.2;\n            case "sRGB":\n                return -2.2;\n            case "L*":\n                return 0;\n            default:\n                return 1;\n        }\n    }\n    // Computed: RGB to XYZ matrix\n    // Values come from table on http://www.brucelindbloom.com/\n    get Mtx_RGB2XYZ() {\n        let xr, yr, xg, yg, xb, yb;\n        switch (this.RgbModel) {\n            case "Adobe RGB (1998)": {\n                [xr, yr, xg, yg, xb, yb] = [0.64, 0.33, 0.21, 0.71, 0.15, 0.06];\n                break;\n            }\n            case "AppleRGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.625, 0.34, 0.28, 0.595, 0.155, 0.07];\n                break;\n            }\n            case "Best RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.7347, 0.2653, 0.215, 0.775, 0.13, 0.035];\n                break;\n            }\n            case "Beta RGB": {\n                [xr, yr, xg, yg, xb, yb] = [\n                    0.6888, 0.3112, 0.1986, 0.7551, 0.1265, 0.0352,\n                ];\n                break;\n            }\n            case "Bruce RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.64, 0.33, 0.28, 0.65, 0.15, 0.06];\n                break;\n            }\n            case "CIE RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.735, 0.265, 0.274, 0.717, 0.167, 0.009];\n                break;\n            }\n            case "ColorMatch RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.63, 0.34, 0.295, 0.605, 0.15, 0.075];\n                break;\n            }\n            case "Don RGB 4": {\n                [xr, yr, xg, yg, xb, yb] = [0.696, 0.3, 0.215, 0.765, 0.13, 0.035];\n                break;\n            }\n            case "ECI RGB v2": {\n                [xr, yr, xg, yg, xb, yb] = [0.67, 0.33, 0.21, 0.71, 0.14, 0.08];\n                break;\n            }\n            case "Ekta Space PS5": {\n                [xr, yr, xg, yg, xb, yb] = [0.695, 0.305, 0.26, 0.7, 0.11, 0.005];\n                break;\n            }\n            case "NTSC RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.67, 0.33, 0.21, 0.71, 0.14, 0.08];\n                break;\n            }\n            case "PAL/SECAM RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.64, 0.33, 0.29, 0.6, 0.15, 0.06];\n                break;\n            }\n            case "ProPhoto RGB": {\n                [xr, yr, xg, yg, xb, yb] = [\n                    0.7347, 0.2653, 0.1596, 0.8404, 0.0366, 0.0001,\n                ];\n                break;\n            }\n            case "SMPTE-C RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.63, 0.34, 0.31, 0.595, 0.155, 0.07];\n                break;\n            }\n            case "sRGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.64, 0.33, 0.3, 0.6, 0.15, 0.06];\n                break;\n            }\n            case "Wide Gamut RGB": {\n                [xr, yr, xg, yg, xb, yb] = [0.735, 0.265, 0.115, 0.826, 0.157, 0.018];\n                break;\n            }\n        } // End switch\n        let X_r = xr / yr, Y_r = 1, Z_r = (1 - xr - yr) / yr, X_g = xg / yg, Y_g = 1, Z_g = (1 - xg - yg) / yg, X_b = xb / yb, Y_b = 1, Z_b = (1 - xb - yb) / yb, RW_RGB = this.Mtx_RefWhiteRGB, X_W = RW_RGB[0], Y_W = RW_RGB[1], Z_W = RW_RGB[2];\n        let [S_r, S_g, S_b] = Matrix_1.Matrix.multiply_3x3_times_triple(Matrix_1.Matrix.inv([\n            [X_r, X_g, X_b],\n            [Y_r, Y_g, Y_b],\n            [Z_r, Z_g, Z_b],\n        ]), [X_W, Y_W, Z_W]);\n        return Matrix_1.Matrix.transpose([\n            [S_r * X_r, S_g * X_g, S_b * X_b],\n            [S_r * Y_r, S_g * Y_g, S_b * Y_b],\n            [S_r * Z_r, S_g * Z_g, S_b * Z_b],\n        ]);\n    } // End Mtx_RGB2XYZ\n    // Computed: Matrix Adaptaion\n    get MtxAdp() {\n        switch (this.Adaptation) {\n            case "Bradford": {\n                return [\n                    [0.8951, -0.7502, 0.0389],\n                    [0.2664, 1.7135, -0.0685],\n                    [-0.1614, 0.0367, 1.0296],\n                ];\n            }\n            case "von Kries": {\n                return [\n                    [0.40024, -0.2263, 0],\n                    [0.7076, 1.16532, 0],\n                    [-0.08081, 0.0457, 0.91822],\n                ];\n            }\n            case "XYZ Scaling":\n            case "None": {\n                return [\n                    [1, 0, 0],\n                    [0, 1, 0],\n                    [0, 0, 1],\n                ];\n            }\n        }\n    } // End matrix Adaptation\n    /**\n     *\n     * @param {number} linear Linear value\n     * @param {number} Gamma Gamma value\n     */\n    compand(linear) {\n        let G = this.Gamma;\n        // Depends on sign of Gamma\n        if (G > 0) {\n            return linear >= 0 ? Math.pow(linear, 1 / G) : -Math.pow(-linear, 1 / G);\n        }\n        else if (G < 0) {\n            /** sRGB */\n            let sign = 1;\n            if (linear < 0) {\n                sign = -1;\n                linear = -linear;\n            }\n            return (sign *\n                (linear <= 0.0031308\n                    ? linear * 12.92\n                    : 1.055 * Math.pow(linear, 1.0 / 2.4) - 0.055));\n        }\n        else {\n            /** L* */\n            let sign = 1;\n            if (linear < 0) {\n                sign = -1;\n                linear = -linear;\n            }\n            return (sign *\n                (linear <= 216.0 / 24389.0\n                    ? (linear * 24389.0) / 2700.0\n                    : 1.16 * Math.pow(linear, 1.0 / 3.0) - 0.16));\n        }\n    }\n    /**\n     * Inverse compand function\n     * @param {number} companded Companded value\n     */\n    inverse_compand(companded) {\n        let G = this.Gamma;\n        if (G > 0) {\n            return companded >= 0 ? Math.pow(companded, G) : -Math.pow(-companded, G);\n        }\n        else if (G < 0) {\n            /** sRGB */\n            let sign = 1;\n            if (companded < 0) {\n                sign = -1;\n                companded = -companded;\n            }\n            return (sign *\n                (companded <= 0.04045\n                    ? companded / 12.92\n                    : Math.pow((companded + 0.055) / 1.055, 2.4)));\n        }\n        else {\n            /** L* */\n            let sign = 1;\n            if (companded < 0) {\n                sign = -1;\n                companded = -companded;\n            }\n            return (sign *\n                (companded <= 0.08\n                    ? (2700.0 * companded) / 24389.0\n                    : (((1000000.0 * companded + 480000.0) * companded + 76800.0) *\n                        companded +\n                        4096.0) /\n                        1560896.0));\n        }\n    }\n    /**\n     * Convert XYZ triple to RGB: ✅\n     * @param {[number, number, number]} XYZ triple in range [0, 1]\n     * Outputs RGB triple in range [0, 255]\n     */\n    XYZ_to_RGB(XYZ) {\n        let XYZd = XYZ;\n        if (this.Adaptation != "None") {\n            // Get source/domain scale factors\n            let [As, Bs, Cs] = Matrix_1.Matrix.multiply_triple_times_3x3(this.Mtx_RefWhite, this.MtxAdp);\n            let [Ad, Bd, Cd] = Matrix_1.Matrix.multiply_triple_times_3x3(this.Mtx_RefWhiteRGB, this.MtxAdp);\n            XYZd = Matrix_1.Matrix.multiply_triple_times_3x3(XYZ, Matrix_1.Matrix.multiply_3x3_times_3x3(this.MtxAdp, Matrix_1.Matrix.multiply_3x3_times_3x3([\n                [Ad / As, 0, 0],\n                [0, Bd / Bs, 0],\n                [0, 0, Cd / Cs],\n            ], Matrix_1.Matrix.inv(this.MtxAdp))));\n        }\n        let RGB = Matrix_1.Matrix.multiply_triple_times_3x3(XYZd, Matrix_1.Matrix.inv(this.Mtx_RGB2XYZ));\n        return RGB.map((v) => 255 * this.compand(v));\n    } // End XYZ_to_RGB\n    /**\n     * Convert RGB tripe to XYZ: ✅\n     * @param {number[]} RGB RGB Triple\n     * NOTE: This assumes RGB is scaled from [0, 255], XYZ in [0, 1]\n     */\n    RGB_to_XYZ(RGB) {\n        // Inverse compound the values\n        RGB = RGB.map((v) => this.inverse_compand(v / 255));\n        // Linear RGB to XYZ\n        let XYZ = Matrix_1.Matrix.multiply_triple_times_3x3(RGB, this.Mtx_RGB2XYZ);\n        // Adaptation if necessary\n        if (this.Adaptation != "None") {\n            // Get source/domain scale factors\n            let [As, Bs, Cs] = Matrix_1.Matrix.multiply_triple_times_3x3(this.Mtx_RefWhiteRGB, this.MtxAdp);\n            let [Ad, Bd, Cd] = Matrix_1.Matrix.multiply_triple_times_3x3(this.Mtx_RefWhite, this.MtxAdp);\n            return Matrix_1.Matrix.multiply_triple_times_3x3(XYZ, Matrix_1.Matrix.multiply_3x3_times_3x3(this.MtxAdp, Matrix_1.Matrix.multiply_3x3_times_3x3([\n                [Ad / As, 0, 0],\n                [0, Bd / Bs, 0],\n                [0, 0, Cd / Cs],\n            ], Matrix_1.Matrix.inv(this.MtxAdp))));\n        }\n        else {\n            return XYZ;\n        }\n    } // End RGB to XYZ\n    /**\n     * Convert Lab to XYZ\n     * @param Lab Lab triple\n     * XYZ in range [0, 1]\n     */\n    Lab_to_XYZ(Lab) {\n        let L = Lab[0], a = Lab[1], b = Lab[2], f_y = (L + 16) / 116, f_x = a / 500 + f_y, f_z = f_y - b / 200, x_r = Math.pow(f_x, 3) > this.kE\n            ? Math.pow(f_x, 3)\n            : (116 * f_x - 16) / this.kK, y_r = L > this.kK * this.kE ? Math.pow((L + 16) / 116, 3) : L / this.kK, z_r = Math.pow(f_z, 3) > this.kE\n            ? Math.pow(f_z, 3)\n            : (116 * f_z - 16) / this.kK, RefWhite = this.Mtx_RefWhite;\n        return [x_r * RefWhite[0], y_r * RefWhite[1], z_r * RefWhite[2]];\n    } // End Lab to XYZ\n    /**\n     * Converts Lab triple to XYZ tripe in range [0, 1]\n     * @param XYZ XYZ triple\n     */\n    XYZ_to_Lab(XYZ) {\n        let X = XYZ[0], Y = XYZ[1], Z = XYZ[2], RefWhite = this.Mtx_RefWhite, X_r = RefWhite[0], Y_r = RefWhite[1], Z_r = RefWhite[2], x_r = X / X_r, y_r = Y / Y_r, z_r = Z / Z_r, f_x = x_r > this.kE ? Math.pow(x_r, 1 / 3) : (this.kK * x_r + 16) / 116, f_y = y_r > this.kE ? Math.pow(y_r, 1 / 3) : (this.kK * y_r + 16) / 116, f_z = z_r > this.kE ? Math.pow(z_r, 1 / 3) : (this.kK * z_r + 16) / 116;\n        return [116 * f_y - 16, 500 * (f_x - f_y), 200 * (f_y - f_z)];\n    } // End XYZ_to_Lab\n    /**\n     * Convert Lab to RGB\n     * @param Lab Lab triple\n     * Note: RGB in [0, 255]\n     */\n    Lab_to_RGB(Lab) {\n        return this.XYZ_to_RGB(this.Lab_to_XYZ(Lab));\n    }\n    /**\n     * Convert RGB to Lab\n     * @param RGB RGB triple in range [0, 255]\n     */\n    RGB_to_Lab(RGB) {\n        return this.XYZ_to_Lab(this.RGB_to_XYZ(RGB));\n    }\n    /**\n     * Convert xyY triple to XYZ triple\n     * @param xyY xyY triple\n     */\n    xyY_to_XYZ(xyY) {\n        let [x, y, Y] = xyY;\n        if (y < 0.000001) {\n            return [0, 0, 0];\n        }\n        else {\n            return [(x * Y) / y, Y, ((1 - x - y) * Y) / y];\n        }\n    } // End xyY_to_XYZ\n    /**\n     * Convert XYZ to xyY\n     * @param XYZ XYZ triple in [0, 1]\n     */\n    XYZ_to_xyY(XYZ) {\n        let [X, Y, Z] = XYZ, Den = X + Y + Z;\n        // Non-zero Den:\n        if (Den > 0) {\n            return [X / Den, Y / Den, Y];\n        }\n        // Zero den\n        else {\n            let [RW_X, RW_Y, RW_Z] = this.Mtx_RefWhite, RW_Den = RW_X + RW_Y + RW_Z;\n            return [RW_X / RW_Den, RW_Y / RW_Den, Y];\n        }\n    }\n    /**\n     * Lab triple to LCH triple\n     * @param Lab Lab triple\n     */\n    Lab_to_LCHab(Lab) {\n        let [L, a, b] = Lab;\n        let H = (180 / Math.PI) * Math.atan2(b, a);\n        return [\n            L,\n            Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)),\n            H + (H >= 0 ? 0 : 360),\n        ];\n    }\n    /**\n     * LCH triple to Lab triple\n     * @param LCH LCH Triple\n     */\n    LCHab_to_Lab(LCH) {\n        let [L, C, H] = LCH;\n        return [\n            L,\n            C * Math.cos((H * Math.PI) / 180),\n            C * Math.sin((H * Math.PI) / 180),\n        ];\n    }\n    /**\n     * @param XYZ XYZ Triple\n     */\n    XYZ_to_LCHab(XYZ) {\n        return this.Lab_to_LCHab(this.XYZ_to_Lab(XYZ));\n    }\n    /**\n     * @param XYZ XYZ Triple\n     */\n    XYZ_to_Luv(XYZ) {\n        let [X, Y, Z] = XYZ, RefWhite = this.Mtx_RefWhite, X_r = RefWhite[0], Y_r = RefWhite[1], Z_r = RefWhite[2], Den = X + 15 * Y + 3 * Z, up = Den > 0 ? (4 * X) / Den : 0, vp = Den > 0 ? (9 * Y) / Den : 0, urp = (4 * X_r) / (X_r + 15 * Y_r + 3 * Z_r), vrp = (9 * Y_r) / (X_r + 15 * Y_r + 3 * Z_r), yr = Y / Y_r, L = yr > this.kE ? 116 * Math.pow(yr, 1 / 3) - 16 : this.kK * yr;\n        return [L, 13 * L * (up - urp), 13 * L * (vp - vrp)];\n    }\n    /**\n     * @param XYZ XYZ triple\n     */\n    XYZ_to_LCHuv(XYZ) {\n        return this.Luv_to_LCHuv(this.XYZ_to_Luv(XYZ));\n    }\n    /**\n     * Luv to LCHuv\n     * @param Luv Luv triple\n     */\n    Luv_to_LCHuv(Luv) {\n        let [L, u, v] = Luv;\n        let H = (180 / Math.PI) * Math.atan2(v, u);\n        return [\n            L,\n            Math.sqrt(Math.pow(u, 2) + Math.pow(v, 2)),\n            H + (H >= 0 ? 0 : 360),\n        ];\n    }\n    /**\n     * @param xyY xyY Triple\n     */\n    xyY_to_Lab(xyY) {\n        return this.XYZ_to_Lab(this.xyY_to_XYZ(xyY));\n    }\n    /**\n     * @param xyY xyY Triple\n     */\n    xyY_to_LCHab(xyY) {\n        return this.Lab_to_LCHab(this.XYZ_to_Lab(this.xyY_to_XYZ(xyY)));\n    }\n    /**\n     * @param xyY xyY Triple\n     */\n    xyY_to_Luv(xyY) {\n        return this.XYZ_to_Luv(this.xyY_to_XYZ(xyY));\n    }\n    /**\n     * @param xyY xyY triple\n     */\n    xyY_to_LCHuv(xyY) {\n        return this.Luv_to_LCHuv(this.XYZ_to_Luv(this.xyY_to_XYZ(xyY)));\n    }\n    /**\n     * @param xyY xyY Triple\n     */\n    xyY_to_RGB(xyY) {\n        return this.XYZ_to_RGB(this.xyY_to_XYZ(xyY));\n    }\n    /**\n     * @param Lab Lab triple\n     */\n    Lab_to_xyY(Lab) {\n        return this.XYZ_to_xyY(this.Lab_to_XYZ(Lab));\n    }\n    /**\n     * @param Lab Lab triple\n     */\n    Lab_to_Luv(Lab) {\n        return this.XYZ_to_Luv(this.Lab_to_XYZ(Lab));\n    }\n    /**\n     * @param Lab Lab triple\n     */\n    Lab_to_LCHuv(Lab) {\n        return this.Luv_to_LCHuv(this.Lab_to_Luv(Lab));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHab_to_XYZ(LCH) {\n        return this.Lab_to_XYZ(this.LCHab_to_Lab(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHab_to_xyY(LCH) {\n        return this.XYZ_to_xyY(this.Lab_to_XYZ(this.LCHab_to_Lab(LCH)));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHab_to_Luv(LCH) {\n        return this.XYZ_to_Luv(this.Lab_to_XYZ(this.LCHab_to_Lab(LCH)));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHab_to_LCHuv(LCH) {\n        return this.Luv_to_LCHuv(this.LCHab_to_Luv(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHab_to_RGB(LCH) {\n        return this.XYZ_to_RGB(this.LCHab_to_XYZ(LCH));\n    }\n    /**\n     * @param Luv NumericTriple\n     */\n    Luv_to_XYZ(Luv) {\n        let [L, u, v] = Luv;\n        let Y = L > this.kK * this.kE ? Math.pow((L + 16) / 116, 3) : L / this.kK;\n        let RefWhite = this.Mtx_RefWhite, X_r = RefWhite[0], Y_r = RefWhite[1], Z_r = RefWhite[2], Den = X_r + 15 * Y_r + 3 * Z_r, v_0 = (9 * Y_r) / Den, u_0 = (4 * X_r) / Den, d = Y * ((39 * L) / (v + 13 * L * v_0) - 5), c = -1 / 3, b = -5 * Y, a = (1 / 3) * ((52 * L) / (u + 13 * L * u_0) - 1), X = (d - b) / (a - c), Z = X * a + b;\n        return [X, Y, Z];\n    }\n    /**\n     * @param Luv NumericTriple\n     */\n    Luv_to_xyY(Luv) {\n        return this.XYZ_to_xyY(this.Luv_to_XYZ(Luv));\n    }\n    /**\n     * @param Luv NumericTriple\n     */\n    Luv_to_Lab(Luv) {\n        return this.XYZ_to_Lab(this.Luv_to_XYZ(Luv));\n    }\n    /**\n     * @param Luv NumericTriple\n     */\n    Luv_to_LCHab(Luv) {\n        return this.Lab_to_LCHab(this.Luv_to_Lab(Luv));\n    }\n    /**\n     * @param Luv NumericTriple\n     */\n    Luv_to_RGB(Luv) {\n        return this.XYZ_to_RGB(this.Luv_to_XYZ(Luv));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_Luv(LCH) {\n        let [L, C, H] = LCH;\n        return [\n            L,\n            C * Math.cos((H * Math.PI) / 180),\n            C * Math.sin((H * Math.PI) / 180),\n        ];\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_XYZ(LCH) {\n        return this.Luv_to_XYZ(this.LCHuv_to_Luv(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_xyY(LCH) {\n        return this.XYZ_to_xyY(this.LCHuv_to_XYZ(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_Lab(LCH) {\n        return this.XYZ_to_Lab(this.LCHuv_to_XYZ(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_LCHab(LCH) {\n        return this.Lab_to_LCHab(this.LCHuv_to_Lab(LCH));\n    }\n    /**\n     * @param LCH NumericTriple\n     */\n    LCHuv_to_RGB(LCH) {\n        return this.XYZ_to_RGB(this.LCHuv_to_XYZ(LCH));\n    }\n    /**\n     * @param RGB NumericTriple\n     */\n    RGB_to_xyY(RGB) {\n        return this.XYZ_to_xyY(this.RGB_to_XYZ(RGB));\n    }\n    /**\n     * @param RGB NumericTriple\n     */\n    RGB_to_LCHab(RGB) {\n        return this.Lab_to_LCHab(this.RGB_to_Lab(RGB));\n    }\n    /**\n     * @param RGB NumericTriple\n     */\n    RGB_to_Luv(RGB) {\n        return this.XYZ_to_Luv(this.RGB_to_XYZ(RGB));\n    }\n    /**\n     * @param RGB NumericTriple\n     */\n    RGB_to_LCHuv(RGB) {\n        return this.Luv_to_LCHuv(this.RGB_to_Luv(RGB));\n    }\n} // End class definition\nexports.N = ColorConverter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY0LmpzIiwibWFwcGluZ3MiOiI7QUFBYTtBQUNiO0FBQ0EsNkJBQTZDLEVBQUUsYUFBYSxDQUFDO0FBQzdELFNBQXNCO0FBQ3RCLGlCQUFpQixtQkFBTyxDQUFDLEdBQVU7QUFDbkM7QUFDQTtBQUNBLGtCQUFrQixxRkFBcUYsSUFBSTtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDBCQUEwQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixTQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbG91ci1ibGluZC1zaW11bGF0b3IvLi9ub2RlX21vZHVsZXMvY2llLWNvbG9yY29udmVydGVyL2Rpc3QvaW5kZXguanM/ZjhmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIFNlZSBodHRwOi8vd3d3LmJydWNlbGluZGJsb29tLmNvbS9pbmRleC5odG1sP0Vxbl9DaHJvbUFkYXB0Lmh0bWwgZm9yIGRldGFpbHMgb24gdGhlc2UgY29tcHV0YXRpb25zLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2xvckNvbnZlcnRlciA9IHZvaWQgMDtcbmNvbnN0IE1hdHJpeF8xID0gcmVxdWlyZShcIi4vTWF0cml4XCIpO1xuY2xhc3MgQ29sb3JDb252ZXJ0ZXIge1xuICAgIC8vIENvbnN0cnVjdG9yXG4gICAgY29uc3RydWN0b3IoeyBSZWZXaGl0ZSA9IFwiRDUwXCIsIFJnYk1vZGVsID0gXCJzUkdCXCIsIEdhbW1hTW9kZWwgPSBcInNSR0JcIiwgQWRhcHRhdGlvbiA9IFwiQnJhZGZvcmRcIiwgfSA9IHt9KSB7XG4gICAgICAgIC8vIFByb3BlcnRpZXMgdG8gYmUgc2V0IG9uIGluc3RhbnRpYXRpb25cbiAgICAgICAgdGhpcy5SZWZXaGl0ZSA9IFwiRDUwXCI7XG4gICAgICAgIHRoaXMuUmdiTW9kZWwgPSBcInNSR0JcIjtcbiAgICAgICAgdGhpcy5HYW1tYU1vZGVsID0gXCJzUkdCXCI7XG4gICAgICAgIHRoaXMuQWRhcHRhdGlvbiA9IFwiQnJhZGZvcmRcIjtcbiAgICAgICAgdGhpcy5rRSA9IDIxNiAvIDI0Mzg5O1xuICAgICAgICB0aGlzLmtLID0gMjQzODkgLyAyNztcbiAgICAgICAgdGhpcy5SZWZXaGl0ZSA9IFJlZldoaXRlO1xuICAgICAgICB0aGlzLlJnYk1vZGVsID0gUmdiTW9kZWw7XG4gICAgICAgIHRoaXMuR2FtbWFNb2RlbCA9IEdhbW1hTW9kZWw7XG4gICAgICAgIHRoaXMuQWRhcHRhdGlvbiA9IEFkYXB0YXRpb247XG4gICAgfVxuICAgIC8vIENvbXB1dGVkOiBSZWZXaGl0ZSBNYXRyaXhcbiAgICBnZXQgTXR4X1JlZldoaXRlKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuUmVmV2hpdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLjA5ODUsIDEsIDAuMzU1ODVdO1xuICAgICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTkwNzIsIDEsIDAuODUyMjNdO1xuICAgICAgICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTgwNzQsIDEsIDEuMTgyMzJdO1xuICAgICAgICAgICAgY2FzZSBcIkQ1MFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NjQyMiwgMSwgMC44MjUyMV07XG4gICAgICAgICAgICBjYXNlIFwiRDU1XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk1NjgyLCAxLCAwLjkyMTQ5XTtcbiAgICAgICAgICAgIGNhc2UgXCJENjVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTUwNDcsIDEsIDEuMDg4OF07XG4gICAgICAgICAgICBjYXNlIFwiRDc1XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk0OTcyLCAxLCAxLjIyNjM4XTtcbiAgICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLCAxLCAxXTtcbiAgICAgICAgICAgIGNhc2UgXCJGMlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45OTE4NiwgMSwgMC42NzM5M107XG4gICAgICAgICAgICBjYXNlIFwiRjdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTUwNDEsIDEsIDEuMDg3NDddO1xuICAgICAgICAgICAgY2FzZSBcIkYxMVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMS4wMDk2MiwgMSwgMC42NDM1XTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLCAxLCAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDb21wdXRlZDogUmVmV2hpdGUgUkdCIE1hdHJpeFxuICAgIGdldCBNdHhfUmVmV2hpdGVSR0IoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5SZ2JNb2RlbCkge1xuICAgICAgICAgICAgY2FzZSBcIkFkb2JlIFJHQiAoMTk5OClcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTUwNDcsIDEsIDEuMDg4ODNdO1xuICAgICAgICAgICAgY2FzZSBcIkFwcGxlUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk1MDQ3LCAxLCAxLjA4ODgzXTtcbiAgICAgICAgICAgIGNhc2UgXCJCZXN0IFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NjQyMiwgMSwgMC44MjUyMV07XG4gICAgICAgICAgICBjYXNlIFwiQmV0YSBSR0JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTY0MjIsIDEsIDAuODI1MjFdO1xuICAgICAgICAgICAgY2FzZSBcIkJydWNlIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NTA0NywgMSwgMS4wODg4M107XG4gICAgICAgICAgICBjYXNlIFwiQ0lFIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMSwgMSwgMV07XG4gICAgICAgICAgICBjYXNlIFwiQ29sb3JNYXRjaCBSR0JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTY0MjIsIDEsIDAuODI1MjFdO1xuICAgICAgICAgICAgY2FzZSBcIkRvbiBSR0IgNFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NjQyMiwgMSwgMC44MjUyMV07XG4gICAgICAgICAgICBjYXNlIFwiRUNJIFJHQiB2MlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NjQyMiwgMSwgMC44MjUyMV07XG4gICAgICAgICAgICBjYXNlIFwiRWt0YSBTcGFjZSBQUzVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTY0MjIsIDEsIDAuODI1MjFdO1xuICAgICAgICAgICAgY2FzZSBcIk5UU0MgUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk4MDc0LCAxLCAxLjE4MjMyXTtcbiAgICAgICAgICAgIGNhc2UgXCJQQUwvU0VDQU0gUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk1MDQ3LCAxLCAxLjA4ODgzXTtcbiAgICAgICAgICAgIGNhc2UgXCJQcm9QaG90byBSR0JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAuOTY0MjIsIDEsIDAuODI1MjFdO1xuICAgICAgICAgICAgY2FzZSBcIlNNUFRFLUMgUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk1MDQ3LCAxLCAxLjA4ODgzXTtcbiAgICAgICAgICAgIGNhc2UgXCJzUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFswLjk1MDQ3LCAxLCAxLjA4ODgzXTtcbiAgICAgICAgICAgIGNhc2UgXCJXaWRlIEdhbXV0IFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbMC45NjQyMiwgMSwgMC44MjUyMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcHV0ZWQ6IEdhbW1hUkdCICsgSW5kZXhcbiAgICBnZXQgR2FtbWFSR0IoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5SZ2JNb2RlbCkge1xuICAgICAgICAgICAgY2FzZSBcIkFkb2JlIFJHQiAoMTk5OClcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogMi4yLCBpbmRleDogMiB9O1xuICAgICAgICAgICAgY2FzZSBcIkFwcGxlUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IDEuOCwgaW5kZXg6IDEgfTtcbiAgICAgICAgICAgIGNhc2UgXCJCZXN0IFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiQmV0YSBSR0JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogMi4yLCBpbmRleDogMiB9O1xuICAgICAgICAgICAgY2FzZSBcIkJydWNlIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiQ0lFIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiQ29sb3JNYXRjaCBSR0JcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogMS44LCBpbmRleDogMiB9O1xuICAgICAgICAgICAgY2FzZSBcIkRvbiBSR0IgNFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiRUNJIFJHQiB2MlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAwLCBpbmRleDogNCB9O1xuICAgICAgICAgICAgY2FzZSBcIkVrdGEgU3BhY2UgUFM1XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IDIuMiwgaW5kZXg6IDIgfTtcbiAgICAgICAgICAgIGNhc2UgXCJOVFNDIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiUEFML1NFQ0FNIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwiUHJvUGhvdG8gUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IDEuOCwgaW5kZXg6IDEgfTtcbiAgICAgICAgICAgIGNhc2UgXCJTTVBURS1DIFJHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAyLjIsIGluZGV4OiAyIH07XG4gICAgICAgICAgICBjYXNlIFwic1JHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAtMi4yLCBpbmRleDogMyB9O1xuICAgICAgICAgICAgY2FzZSBcIldpZGUgR2FtdXQgUkdCXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IDIuMiwgaW5kZXg6IDIgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDb21wdXRlZDogR2FtbWEgdmFsdWVcbiAgICBnZXQgR2FtbWEoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5HYW1tYU1vZGVsLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCIxLjBcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGNhc2UgXCIxLjhcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMS44O1xuICAgICAgICAgICAgY2FzZSBcIjIuMlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAyLjI7XG4gICAgICAgICAgICBjYXNlIFwic1JHQlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAtMi4yO1xuICAgICAgICAgICAgY2FzZSBcIkwqXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENvbXB1dGVkOiBSR0IgdG8gWFlaIG1hdHJpeFxuICAgIC8vIFZhbHVlcyBjb21lIGZyb20gdGFibGUgb24gaHR0cDovL3d3dy5icnVjZWxpbmRibG9vbS5jb20vXG4gICAgZ2V0IE10eF9SR0IyWFlaKCkge1xuICAgICAgICBsZXQgeHIsIHlyLCB4ZywgeWcsIHhiLCB5YjtcbiAgICAgICAgc3dpdGNoICh0aGlzLlJnYk1vZGVsKSB7XG4gICAgICAgICAgICBjYXNlIFwiQWRvYmUgUkdCICgxOTk4KVwiOiB7XG4gICAgICAgICAgICAgICAgW3hyLCB5ciwgeGcsIHlnLCB4YiwgeWJdID0gWzAuNjQsIDAuMzMsIDAuMjEsIDAuNzEsIDAuMTUsIDAuMDZdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkFwcGxlUkdCXCI6IHtcbiAgICAgICAgICAgICAgICBbeHIsIHlyLCB4ZywgeWcsIHhiLCB5Yl0gPSBbMC42MjUsIDAuMzQsIDAuMjgsIDAuNTk1LCAwLjE1NSwgMC4wN107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiQmVzdCBSR0JcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFswLjczNDcsIDAuMjY1MywgMC4yMTUsIDAuNzc1LCAwLjEzLCAwLjAzNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiQmV0YSBSR0JcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgMC42ODg4LCAwLjMxMTIsIDAuMTk4NiwgMC43NTUxLCAwLjEyNjUsIDAuMDM1MixcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkJydWNlIFJHQlwiOiB7XG4gICAgICAgICAgICAgICAgW3hyLCB5ciwgeGcsIHlnLCB4YiwgeWJdID0gWzAuNjQsIDAuMzMsIDAuMjgsIDAuNjUsIDAuMTUsIDAuMDZdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkNJRSBSR0JcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFswLjczNSwgMC4yNjUsIDAuMjc0LCAwLjcxNywgMC4xNjcsIDAuMDA5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJDb2xvck1hdGNoIFJHQlwiOiB7XG4gICAgICAgICAgICAgICAgW3hyLCB5ciwgeGcsIHlnLCB4YiwgeWJdID0gWzAuNjMsIDAuMzQsIDAuMjk1LCAwLjYwNSwgMC4xNSwgMC4wNzVdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkRvbiBSR0IgNFwiOiB7XG4gICAgICAgICAgICAgICAgW3hyLCB5ciwgeGcsIHlnLCB4YiwgeWJdID0gWzAuNjk2LCAwLjMsIDAuMjE1LCAwLjc2NSwgMC4xMywgMC4wMzVdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkVDSSBSR0IgdjJcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFswLjY3LCAwLjMzLCAwLjIxLCAwLjcxLCAwLjE0LCAwLjA4XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJFa3RhIFNwYWNlIFBTNVwiOiB7XG4gICAgICAgICAgICAgICAgW3hyLCB5ciwgeGcsIHlnLCB4YiwgeWJdID0gWzAuNjk1LCAwLjMwNSwgMC4yNiwgMC43LCAwLjExLCAwLjAwNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiTlRTQyBSR0JcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFswLjY3LCAwLjMzLCAwLjIxLCAwLjcxLCAwLjE0LCAwLjA4XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJQQUwvU0VDQU0gUkdCXCI6IHtcbiAgICAgICAgICAgICAgICBbeHIsIHlyLCB4ZywgeWcsIHhiLCB5Yl0gPSBbMC42NCwgMC4zMywgMC4yOSwgMC42LCAwLjE1LCAwLjA2XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJQcm9QaG90byBSR0JcIjoge1xuICAgICAgICAgICAgICAgIFt4ciwgeXIsIHhnLCB5ZywgeGIsIHliXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgMC43MzQ3LCAwLjI2NTMsIDAuMTU5NiwgMC44NDA0LCAwLjAzNjYsIDAuMDAwMSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIlNNUFRFLUMgUkdCXCI6IHtcbiAgICAgICAgICAgICAgICBbeHIsIHlyLCB4ZywgeWcsIHhiLCB5Yl0gPSBbMC42MywgMC4zNCwgMC4zMSwgMC41OTUsIDAuMTU1LCAwLjA3XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzUkdCXCI6IHtcbiAgICAgICAgICAgICAgICBbeHIsIHlyLCB4ZywgeWcsIHhiLCB5Yl0gPSBbMC42NCwgMC4zMywgMC4zLCAwLjYsIDAuMTUsIDAuMDZdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIldpZGUgR2FtdXQgUkdCXCI6IHtcbiAgICAgICAgICAgICAgICBbeHIsIHlyLCB4ZywgeWcsIHhiLCB5Yl0gPSBbMC43MzUsIDAuMjY1LCAwLjExNSwgMC44MjYsIDAuMTU3LCAwLjAxOF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gLy8gRW5kIHN3aXRjaFxuICAgICAgICBsZXQgWF9yID0geHIgLyB5ciwgWV9yID0gMSwgWl9yID0gKDEgLSB4ciAtIHlyKSAvIHlyLCBYX2cgPSB4ZyAvIHlnLCBZX2cgPSAxLCBaX2cgPSAoMSAtIHhnIC0geWcpIC8geWcsIFhfYiA9IHhiIC8geWIsIFlfYiA9IDEsIFpfYiA9ICgxIC0geGIgLSB5YikgLyB5YiwgUldfUkdCID0gdGhpcy5NdHhfUmVmV2hpdGVSR0IsIFhfVyA9IFJXX1JHQlswXSwgWV9XID0gUldfUkdCWzFdLCBaX1cgPSBSV19SR0JbMl07XG4gICAgICAgIGxldCBbU19yLCBTX2csIFNfYl0gPSBNYXRyaXhfMS5NYXRyaXgubXVsdGlwbHlfM3gzX3RpbWVzX3RyaXBsZShNYXRyaXhfMS5NYXRyaXguaW52KFtcbiAgICAgICAgICAgIFtYX3IsIFhfZywgWF9iXSxcbiAgICAgICAgICAgIFtZX3IsIFlfZywgWV9iXSxcbiAgICAgICAgICAgIFtaX3IsIFpfZywgWl9iXSxcbiAgICAgICAgXSksIFtYX1csIFlfVywgWl9XXSk7XG4gICAgICAgIHJldHVybiBNYXRyaXhfMS5NYXRyaXgudHJhbnNwb3NlKFtcbiAgICAgICAgICAgIFtTX3IgKiBYX3IsIFNfZyAqIFhfZywgU19iICogWF9iXSxcbiAgICAgICAgICAgIFtTX3IgKiBZX3IsIFNfZyAqIFlfZywgU19iICogWV9iXSxcbiAgICAgICAgICAgIFtTX3IgKiBaX3IsIFNfZyAqIFpfZywgU19iICogWl9iXSxcbiAgICAgICAgXSk7XG4gICAgfSAvLyBFbmQgTXR4X1JHQjJYWVpcbiAgICAvLyBDb21wdXRlZDogTWF0cml4IEFkYXB0YWlvblxuICAgIGdldCBNdHhBZHAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5BZGFwdGF0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwiQnJhZGZvcmRcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIFswLjg5NTEsIC0wLjc1MDIsIDAuMDM4OV0sXG4gICAgICAgICAgICAgICAgICAgIFswLjI2NjQsIDEuNzEzNSwgLTAuMDY4NV0sXG4gICAgICAgICAgICAgICAgICAgIFstMC4xNjE0LCAwLjAzNjcsIDEuMDI5Nl0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ2b24gS3JpZXNcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIFswLjQwMDI0LCAtMC4yMjYzLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgWzAuNzA3NiwgMS4xNjUzMiwgMF0sXG4gICAgICAgICAgICAgICAgICAgIFstMC4wODA4MSwgMC4wNDU3LCAwLjkxODIyXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIlhZWiBTY2FsaW5nXCI6XG4gICAgICAgICAgICBjYXNlIFwiTm9uZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgWzEsIDAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgICAgICAgIFswLCAwLCAxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSAvLyBFbmQgbWF0cml4IEFkYXB0YXRpb25cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lYXIgTGluZWFyIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IEdhbW1hIEdhbW1hIHZhbHVlXG4gICAgICovXG4gICAgY29tcGFuZChsaW5lYXIpIHtcbiAgICAgICAgbGV0IEcgPSB0aGlzLkdhbW1hO1xuICAgICAgICAvLyBEZXBlbmRzIG9uIHNpZ24gb2YgR2FtbWFcbiAgICAgICAgaWYgKEcgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZWFyID49IDAgPyBNYXRoLnBvdyhsaW5lYXIsIDEgLyBHKSA6IC1NYXRoLnBvdygtbGluZWFyLCAxIC8gRyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoRyA8IDApIHtcbiAgICAgICAgICAgIC8qKiBzUkdCICovXG4gICAgICAgICAgICBsZXQgc2lnbiA9IDE7XG4gICAgICAgICAgICBpZiAobGluZWFyIDwgMCkge1xuICAgICAgICAgICAgICAgIHNpZ24gPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lYXIgPSAtbGluZWFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChzaWduICpcbiAgICAgICAgICAgICAgICAobGluZWFyIDw9IDAuMDAzMTMwOFxuICAgICAgICAgICAgICAgICAgICA/IGxpbmVhciAqIDEyLjkyXG4gICAgICAgICAgICAgICAgICAgIDogMS4wNTUgKiBNYXRoLnBvdyhsaW5lYXIsIDEuMCAvIDIuNCkgLSAwLjA1NSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyoqIEwqICovXG4gICAgICAgICAgICBsZXQgc2lnbiA9IDE7XG4gICAgICAgICAgICBpZiAobGluZWFyIDwgMCkge1xuICAgICAgICAgICAgICAgIHNpZ24gPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lYXIgPSAtbGluZWFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChzaWduICpcbiAgICAgICAgICAgICAgICAobGluZWFyIDw9IDIxNi4wIC8gMjQzODkuMFxuICAgICAgICAgICAgICAgICAgICA/IChsaW5lYXIgKiAyNDM4OS4wKSAvIDI3MDAuMFxuICAgICAgICAgICAgICAgICAgICA6IDEuMTYgKiBNYXRoLnBvdyhsaW5lYXIsIDEuMCAvIDMuMCkgLSAwLjE2KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52ZXJzZSBjb21wYW5kIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbXBhbmRlZCBDb21wYW5kZWQgdmFsdWVcbiAgICAgKi9cbiAgICBpbnZlcnNlX2NvbXBhbmQoY29tcGFuZGVkKSB7XG4gICAgICAgIGxldCBHID0gdGhpcy5HYW1tYTtcbiAgICAgICAgaWYgKEcgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFuZGVkID49IDAgPyBNYXRoLnBvdyhjb21wYW5kZWQsIEcpIDogLU1hdGgucG93KC1jb21wYW5kZWQsIEcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEcgPCAwKSB7XG4gICAgICAgICAgICAvKiogc1JHQiAqL1xuICAgICAgICAgICAgbGV0IHNpZ24gPSAxO1xuICAgICAgICAgICAgaWYgKGNvbXBhbmRlZCA8IDApIHtcbiAgICAgICAgICAgICAgICBzaWduID0gLTE7XG4gICAgICAgICAgICAgICAgY29tcGFuZGVkID0gLWNvbXBhbmRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoc2lnbiAqXG4gICAgICAgICAgICAgICAgKGNvbXBhbmRlZCA8PSAwLjA0MDQ1XG4gICAgICAgICAgICAgICAgICAgID8gY29tcGFuZGVkIC8gMTIuOTJcbiAgICAgICAgICAgICAgICAgICAgOiBNYXRoLnBvdygoY29tcGFuZGVkICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBMKiAqL1xuICAgICAgICAgICAgbGV0IHNpZ24gPSAxO1xuICAgICAgICAgICAgaWYgKGNvbXBhbmRlZCA8IDApIHtcbiAgICAgICAgICAgICAgICBzaWduID0gLTE7XG4gICAgICAgICAgICAgICAgY29tcGFuZGVkID0gLWNvbXBhbmRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoc2lnbiAqXG4gICAgICAgICAgICAgICAgKGNvbXBhbmRlZCA8PSAwLjA4XG4gICAgICAgICAgICAgICAgICAgID8gKDI3MDAuMCAqIGNvbXBhbmRlZCkgLyAyNDM4OS4wXG4gICAgICAgICAgICAgICAgICAgIDogKCgoMTAwMDAwMC4wICogY29tcGFuZGVkICsgNDgwMDAwLjApICogY29tcGFuZGVkICsgNzY4MDAuMCkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFuZGVkICtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQwOTYuMCkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgMTU2MDg5Ni4wKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBYWVogdHJpcGxlIHRvIFJHQjog4pyFXG4gICAgICogQHBhcmFtIHtbbnVtYmVyLCBudW1iZXIsIG51bWJlcl19IFhZWiB0cmlwbGUgaW4gcmFuZ2UgWzAsIDFdXG4gICAgICogT3V0cHV0cyBSR0IgdHJpcGxlIGluIHJhbmdlIFswLCAyNTVdXG4gICAgICovXG4gICAgWFlaX3RvX1JHQihYWVopIHtcbiAgICAgICAgbGV0IFhZWmQgPSBYWVo7XG4gICAgICAgIGlmICh0aGlzLkFkYXB0YXRpb24gIT0gXCJOb25lXCIpIHtcbiAgICAgICAgICAgIC8vIEdldCBzb3VyY2UvZG9tYWluIHNjYWxlIGZhY3RvcnNcbiAgICAgICAgICAgIGxldCBbQXMsIEJzLCBDc10gPSBNYXRyaXhfMS5NYXRyaXgubXVsdGlwbHlfdHJpcGxlX3RpbWVzXzN4Myh0aGlzLk10eF9SZWZXaGl0ZSwgdGhpcy5NdHhBZHApO1xuICAgICAgICAgICAgbGV0IFtBZCwgQmQsIENkXSA9IE1hdHJpeF8xLk1hdHJpeC5tdWx0aXBseV90cmlwbGVfdGltZXNfM3gzKHRoaXMuTXR4X1JlZldoaXRlUkdCLCB0aGlzLk10eEFkcCk7XG4gICAgICAgICAgICBYWVpkID0gTWF0cml4XzEuTWF0cml4Lm11bHRpcGx5X3RyaXBsZV90aW1lc18zeDMoWFlaLCBNYXRyaXhfMS5NYXRyaXgubXVsdGlwbHlfM3gzX3RpbWVzXzN4Myh0aGlzLk10eEFkcCwgTWF0cml4XzEuTWF0cml4Lm11bHRpcGx5XzN4M190aW1lc18zeDMoW1xuICAgICAgICAgICAgICAgIFtBZCAvIEFzLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgQmQgLyBCcywgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDAsIENkIC8gQ3NdLFxuICAgICAgICAgICAgXSwgTWF0cml4XzEuTWF0cml4Lmludih0aGlzLk10eEFkcCkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IFJHQiA9IE1hdHJpeF8xLk1hdHJpeC5tdWx0aXBseV90cmlwbGVfdGltZXNfM3gzKFhZWmQsIE1hdHJpeF8xLk1hdHJpeC5pbnYodGhpcy5NdHhfUkdCMlhZWikpO1xuICAgICAgICByZXR1cm4gUkdCLm1hcCgodikgPT4gMjU1ICogdGhpcy5jb21wYW5kKHYpKTtcbiAgICB9IC8vIEVuZCBYWVpfdG9fUkdCXG4gICAgLyoqXG4gICAgICogQ29udmVydCBSR0IgdHJpcGUgdG8gWFlaOiDinIVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBSR0IgUkdCIFRyaXBsZVxuICAgICAqIE5PVEU6IFRoaXMgYXNzdW1lcyBSR0IgaXMgc2NhbGVkIGZyb20gWzAsIDI1NV0sIFhZWiBpbiBbMCwgMV1cbiAgICAgKi9cbiAgICBSR0JfdG9fWFlaKFJHQikge1xuICAgICAgICAvLyBJbnZlcnNlIGNvbXBvdW5kIHRoZSB2YWx1ZXNcbiAgICAgICAgUkdCID0gUkdCLm1hcCgodikgPT4gdGhpcy5pbnZlcnNlX2NvbXBhbmQodiAvIDI1NSkpO1xuICAgICAgICAvLyBMaW5lYXIgUkdCIHRvIFhZWlxuICAgICAgICBsZXQgWFlaID0gTWF0cml4XzEuTWF0cml4Lm11bHRpcGx5X3RyaXBsZV90aW1lc18zeDMoUkdCLCB0aGlzLk10eF9SR0IyWFlaKTtcbiAgICAgICAgLy8gQWRhcHRhdGlvbiBpZiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHRoaXMuQWRhcHRhdGlvbiAhPSBcIk5vbmVcIikge1xuICAgICAgICAgICAgLy8gR2V0IHNvdXJjZS9kb21haW4gc2NhbGUgZmFjdG9yc1xuICAgICAgICAgICAgbGV0IFtBcywgQnMsIENzXSA9IE1hdHJpeF8xLk1hdHJpeC5tdWx0aXBseV90cmlwbGVfdGltZXNfM3gzKHRoaXMuTXR4X1JlZldoaXRlUkdCLCB0aGlzLk10eEFkcCk7XG4gICAgICAgICAgICBsZXQgW0FkLCBCZCwgQ2RdID0gTWF0cml4XzEuTWF0cml4Lm11bHRpcGx5X3RyaXBsZV90aW1lc18zeDModGhpcy5NdHhfUmVmV2hpdGUsIHRoaXMuTXR4QWRwKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRyaXhfMS5NYXRyaXgubXVsdGlwbHlfdHJpcGxlX3RpbWVzXzN4MyhYWVosIE1hdHJpeF8xLk1hdHJpeC5tdWx0aXBseV8zeDNfdGltZXNfM3gzKHRoaXMuTXR4QWRwLCBNYXRyaXhfMS5NYXRyaXgubXVsdGlwbHlfM3gzX3RpbWVzXzN4MyhbXG4gICAgICAgICAgICAgICAgW0FkIC8gQXMsIDAsIDBdLFxuICAgICAgICAgICAgICAgIFswLCBCZCAvIEJzLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgQ2QgLyBDc10sXG4gICAgICAgICAgICBdLCBNYXRyaXhfMS5NYXRyaXguaW52KHRoaXMuTXR4QWRwKSkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBYWVo7XG4gICAgICAgIH1cbiAgICB9IC8vIEVuZCBSR0IgdG8gWFlaXG4gICAgLyoqXG4gICAgICogQ29udmVydCBMYWIgdG8gWFlaXG4gICAgICogQHBhcmFtIExhYiBMYWIgdHJpcGxlXG4gICAgICogWFlaIGluIHJhbmdlIFswLCAxXVxuICAgICAqL1xuICAgIExhYl90b19YWVooTGFiKSB7XG4gICAgICAgIGxldCBMID0gTGFiWzBdLCBhID0gTGFiWzFdLCBiID0gTGFiWzJdLCBmX3kgPSAoTCArIDE2KSAvIDExNiwgZl94ID0gYSAvIDUwMCArIGZfeSwgZl96ID0gZl95IC0gYiAvIDIwMCwgeF9yID0gTWF0aC5wb3coZl94LCAzKSA+IHRoaXMua0VcbiAgICAgICAgICAgID8gTWF0aC5wb3coZl94LCAzKVxuICAgICAgICAgICAgOiAoMTE2ICogZl94IC0gMTYpIC8gdGhpcy5rSywgeV9yID0gTCA+IHRoaXMua0sgKiB0aGlzLmtFID8gTWF0aC5wb3coKEwgKyAxNikgLyAxMTYsIDMpIDogTCAvIHRoaXMua0ssIHpfciA9IE1hdGgucG93KGZfeiwgMykgPiB0aGlzLmtFXG4gICAgICAgICAgICA/IE1hdGgucG93KGZfeiwgMylcbiAgICAgICAgICAgIDogKDExNiAqIGZfeiAtIDE2KSAvIHRoaXMua0ssIFJlZldoaXRlID0gdGhpcy5NdHhfUmVmV2hpdGU7XG4gICAgICAgIHJldHVybiBbeF9yICogUmVmV2hpdGVbMF0sIHlfciAqIFJlZldoaXRlWzFdLCB6X3IgKiBSZWZXaGl0ZVsyXV07XG4gICAgfSAvLyBFbmQgTGFiIHRvIFhZWlxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIExhYiB0cmlwbGUgdG8gWFlaIHRyaXBlIGluIHJhbmdlIFswLCAxXVxuICAgICAqIEBwYXJhbSBYWVogWFlaIHRyaXBsZVxuICAgICAqL1xuICAgIFhZWl90b19MYWIoWFlaKSB7XG4gICAgICAgIGxldCBYID0gWFlaWzBdLCBZID0gWFlaWzFdLCBaID0gWFlaWzJdLCBSZWZXaGl0ZSA9IHRoaXMuTXR4X1JlZldoaXRlLCBYX3IgPSBSZWZXaGl0ZVswXSwgWV9yID0gUmVmV2hpdGVbMV0sIFpfciA9IFJlZldoaXRlWzJdLCB4X3IgPSBYIC8gWF9yLCB5X3IgPSBZIC8gWV9yLCB6X3IgPSBaIC8gWl9yLCBmX3ggPSB4X3IgPiB0aGlzLmtFID8gTWF0aC5wb3coeF9yLCAxIC8gMykgOiAodGhpcy5rSyAqIHhfciArIDE2KSAvIDExNiwgZl95ID0geV9yID4gdGhpcy5rRSA/IE1hdGgucG93KHlfciwgMSAvIDMpIDogKHRoaXMua0sgKiB5X3IgKyAxNikgLyAxMTYsIGZfeiA9IHpfciA+IHRoaXMua0UgPyBNYXRoLnBvdyh6X3IsIDEgLyAzKSA6ICh0aGlzLmtLICogel9yICsgMTYpIC8gMTE2O1xuICAgICAgICByZXR1cm4gWzExNiAqIGZfeSAtIDE2LCA1MDAgKiAoZl94IC0gZl95KSwgMjAwICogKGZfeSAtIGZfeildO1xuICAgIH0gLy8gRW5kIFhZWl90b19MYWJcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IExhYiB0byBSR0JcbiAgICAgKiBAcGFyYW0gTGFiIExhYiB0cmlwbGVcbiAgICAgKiBOb3RlOiBSR0IgaW4gWzAsIDI1NV1cbiAgICAgKi9cbiAgICBMYWJfdG9fUkdCKExhYikge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9fUkdCKHRoaXMuTGFiX3RvX1hZWihMYWIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBSR0IgdG8gTGFiXG4gICAgICogQHBhcmFtIFJHQiBSR0IgdHJpcGxlIGluIHJhbmdlIFswLCAyNTVdXG4gICAgICovXG4gICAgUkdCX3RvX0xhYihSR0IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX0xhYih0aGlzLlJHQl90b19YWVooUkdCKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgeHlZIHRyaXBsZSB0byBYWVogdHJpcGxlXG4gICAgICogQHBhcmFtIHh5WSB4eVkgdHJpcGxlXG4gICAgICovXG4gICAgeHlZX3RvX1hZWih4eVkpIHtcbiAgICAgICAgbGV0IFt4LCB5LCBZXSA9IHh5WTtcbiAgICAgICAgaWYgKHkgPCAwLjAwMDAwMSkge1xuICAgICAgICAgICAgcmV0dXJuIFswLCAwLCAwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbKHggKiBZKSAvIHksIFksICgoMSAtIHggLSB5KSAqIFkpIC8geV07XG4gICAgICAgIH1cbiAgICB9IC8vIEVuZCB4eVlfdG9fWFlaXG4gICAgLyoqXG4gICAgICogQ29udmVydCBYWVogdG8geHlZXG4gICAgICogQHBhcmFtIFhZWiBYWVogdHJpcGxlIGluIFswLCAxXVxuICAgICAqL1xuICAgIFhZWl90b194eVkoWFlaKSB7XG4gICAgICAgIGxldCBbWCwgWSwgWl0gPSBYWVosIERlbiA9IFggKyBZICsgWjtcbiAgICAgICAgLy8gTm9uLXplcm8gRGVuOlxuICAgICAgICBpZiAoRGVuID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtYIC8gRGVuLCBZIC8gRGVuLCBZXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBaZXJvIGRlblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBbUldfWCwgUldfWSwgUldfWl0gPSB0aGlzLk10eF9SZWZXaGl0ZSwgUldfRGVuID0gUldfWCArIFJXX1kgKyBSV19aO1xuICAgICAgICAgICAgcmV0dXJuIFtSV19YIC8gUldfRGVuLCBSV19ZIC8gUldfRGVuLCBZXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMYWIgdHJpcGxlIHRvIExDSCB0cmlwbGVcbiAgICAgKiBAcGFyYW0gTGFiIExhYiB0cmlwbGVcbiAgICAgKi9cbiAgICBMYWJfdG9fTENIYWIoTGFiKSB7XG4gICAgICAgIGxldCBbTCwgYSwgYl0gPSBMYWI7XG4gICAgICAgIGxldCBIID0gKDE4MCAvIE1hdGguUEkpICogTWF0aC5hdGFuMihiLCBhKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBNYXRoLnNxcnQoTWF0aC5wb3coYSwgMikgKyBNYXRoLnBvdyhiLCAyKSksXG4gICAgICAgICAgICBIICsgKEggPj0gMCA/IDAgOiAzNjApLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMQ0ggdHJpcGxlIHRvIExhYiB0cmlwbGVcbiAgICAgKiBAcGFyYW0gTENIIExDSCBUcmlwbGVcbiAgICAgKi9cbiAgICBMQ0hhYl90b19MYWIoTENIKSB7XG4gICAgICAgIGxldCBbTCwgQywgSF0gPSBMQ0g7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBMLFxuICAgICAgICAgICAgQyAqIE1hdGguY29zKChIICogTWF0aC5QSSkgLyAxODApLFxuICAgICAgICAgICAgQyAqIE1hdGguc2luKChIICogTWF0aC5QSSkgLyAxODApLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gWFlaIFhZWiBUcmlwbGVcbiAgICAgKi9cbiAgICBYWVpfdG9fTENIYWIoWFlaKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxhYl90b19MQ0hhYih0aGlzLlhZWl90b19MYWIoWFlaKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBYWVogWFlaIFRyaXBsZVxuICAgICAqL1xuICAgIFhZWl90b19MdXYoWFlaKSB7XG4gICAgICAgIGxldCBbWCwgWSwgWl0gPSBYWVosIFJlZldoaXRlID0gdGhpcy5NdHhfUmVmV2hpdGUsIFhfciA9IFJlZldoaXRlWzBdLCBZX3IgPSBSZWZXaGl0ZVsxXSwgWl9yID0gUmVmV2hpdGVbMl0sIERlbiA9IFggKyAxNSAqIFkgKyAzICogWiwgdXAgPSBEZW4gPiAwID8gKDQgKiBYKSAvIERlbiA6IDAsIHZwID0gRGVuID4gMCA/ICg5ICogWSkgLyBEZW4gOiAwLCB1cnAgPSAoNCAqIFhfcikgLyAoWF9yICsgMTUgKiBZX3IgKyAzICogWl9yKSwgdnJwID0gKDkgKiBZX3IpIC8gKFhfciArIDE1ICogWV9yICsgMyAqIFpfciksIHlyID0gWSAvIFlfciwgTCA9IHlyID4gdGhpcy5rRSA/IDExNiAqIE1hdGgucG93KHlyLCAxIC8gMykgLSAxNiA6IHRoaXMua0sgKiB5cjtcbiAgICAgICAgcmV0dXJuIFtMLCAxMyAqIEwgKiAodXAgLSB1cnApLCAxMyAqIEwgKiAodnAgLSB2cnApXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIFhZWiBYWVogdHJpcGxlXG4gICAgICovXG4gICAgWFlaX3RvX0xDSHV2KFhZWikge1xuICAgICAgICByZXR1cm4gdGhpcy5MdXZfdG9fTENIdXYodGhpcy5YWVpfdG9fTHV2KFhZWikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMdXYgdG8gTENIdXZcbiAgICAgKiBAcGFyYW0gTHV2IEx1diB0cmlwbGVcbiAgICAgKi9cbiAgICBMdXZfdG9fTENIdXYoTHV2KSB7XG4gICAgICAgIGxldCBbTCwgdSwgdl0gPSBMdXY7XG4gICAgICAgIGxldCBIID0gKDE4MCAvIE1hdGguUEkpICogTWF0aC5hdGFuMih2LCB1KTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBNYXRoLnNxcnQoTWF0aC5wb3codSwgMikgKyBNYXRoLnBvdyh2LCAyKSksXG4gICAgICAgICAgICBIICsgKEggPj0gMCA/IDAgOiAzNjApLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geHlZIHh5WSBUcmlwbGVcbiAgICAgKi9cbiAgICB4eVlfdG9fTGFiKHh5WSkge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9fTGFiKHRoaXMueHlZX3RvX1hZWih4eVkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHh5WSB4eVkgVHJpcGxlXG4gICAgICovXG4gICAgeHlZX3RvX0xDSGFiKHh5WSkge1xuICAgICAgICByZXR1cm4gdGhpcy5MYWJfdG9fTENIYWIodGhpcy5YWVpfdG9fTGFiKHRoaXMueHlZX3RvX1hZWih4eVkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB4eVkgeHlZIFRyaXBsZVxuICAgICAqL1xuICAgIHh5WV90b19MdXYoeHlZKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhZWl90b19MdXYodGhpcy54eVlfdG9fWFlaKHh5WSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geHlZIHh5WSB0cmlwbGVcbiAgICAgKi9cbiAgICB4eVlfdG9fTENIdXYoeHlZKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkx1dl90b19MQ0h1dih0aGlzLlhZWl90b19MdXYodGhpcy54eVlfdG9fWFlaKHh5WSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHh5WSB4eVkgVHJpcGxlXG4gICAgICovXG4gICAgeHlZX3RvX1JHQih4eVkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX1JHQih0aGlzLnh5WV90b19YWVooeHlZKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMYWIgTGFiIHRyaXBsZVxuICAgICAqL1xuICAgIExhYl90b194eVkoTGFiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhZWl90b194eVkodGhpcy5MYWJfdG9fWFlaKExhYikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTGFiIExhYiB0cmlwbGVcbiAgICAgKi9cbiAgICBMYWJfdG9fTHV2KExhYikge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9fTHV2KHRoaXMuTGFiX3RvX1hZWihMYWIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIExhYiBMYWIgdHJpcGxlXG4gICAgICovXG4gICAgTGFiX3RvX0xDSHV2KExhYikge1xuICAgICAgICByZXR1cm4gdGhpcy5MdXZfdG9fTENIdXYodGhpcy5MYWJfdG9fTHV2KExhYikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTENIIE51bWVyaWNUcmlwbGVcbiAgICAgKi9cbiAgICBMQ0hhYl90b19YWVooTENIKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxhYl90b19YWVoodGhpcy5MQ0hhYl90b19MYWIoTENIKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMQ0ggTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIExDSGFiX3RvX3h5WShMQ0gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX3h5WSh0aGlzLkxhYl90b19YWVoodGhpcy5MQ0hhYl90b19MYWIoTENIKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTENIIE51bWVyaWNUcmlwbGVcbiAgICAgKi9cbiAgICBMQ0hhYl90b19MdXYoTENIKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhZWl90b19MdXYodGhpcy5MYWJfdG9fWFlaKHRoaXMuTENIYWJfdG9fTGFiKExDSCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIExDSCBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgTENIYWJfdG9fTENIdXYoTENIKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkx1dl90b19MQ0h1dih0aGlzLkxDSGFiX3RvX0x1dihMQ0gpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIExDSCBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgTENIYWJfdG9fUkdCKExDSCkge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9fUkdCKHRoaXMuTENIYWJfdG9fWFlaKExDSCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTHV2IE51bWVyaWNUcmlwbGVcbiAgICAgKi9cbiAgICBMdXZfdG9fWFlaKEx1dikge1xuICAgICAgICBsZXQgW0wsIHUsIHZdID0gTHV2O1xuICAgICAgICBsZXQgWSA9IEwgPiB0aGlzLmtLICogdGhpcy5rRSA/IE1hdGgucG93KChMICsgMTYpIC8gMTE2LCAzKSA6IEwgLyB0aGlzLmtLO1xuICAgICAgICBsZXQgUmVmV2hpdGUgPSB0aGlzLk10eF9SZWZXaGl0ZSwgWF9yID0gUmVmV2hpdGVbMF0sIFlfciA9IFJlZldoaXRlWzFdLCBaX3IgPSBSZWZXaGl0ZVsyXSwgRGVuID0gWF9yICsgMTUgKiBZX3IgKyAzICogWl9yLCB2XzAgPSAoOSAqIFlfcikgLyBEZW4sIHVfMCA9ICg0ICogWF9yKSAvIERlbiwgZCA9IFkgKiAoKDM5ICogTCkgLyAodiArIDEzICogTCAqIHZfMCkgLSA1KSwgYyA9IC0xIC8gMywgYiA9IC01ICogWSwgYSA9ICgxIC8gMykgKiAoKDUyICogTCkgLyAodSArIDEzICogTCAqIHVfMCkgLSAxKSwgWCA9IChkIC0gYikgLyAoYSAtIGMpLCBaID0gWCAqIGEgKyBiO1xuICAgICAgICByZXR1cm4gW1gsIFksIFpdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTHV2IE51bWVyaWNUcmlwbGVcbiAgICAgKi9cbiAgICBMdXZfdG9feHlZKEx1dikge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9feHlZKHRoaXMuTHV2X3RvX1hZWihMdXYpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIEx1diBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgTHV2X3RvX0xhYihMdXYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX0xhYih0aGlzLkx1dl90b19YWVooTHV2KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMdXYgTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIEx1dl90b19MQ0hhYihMdXYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFiX3RvX0xDSGFiKHRoaXMuTHV2X3RvX0xhYihMdXYpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIEx1diBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgTHV2X3RvX1JHQihMdXYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX1JHQih0aGlzLkx1dl90b19YWVooTHV2KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMQ0ggTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIExDSHV2X3RvX0x1dihMQ0gpIHtcbiAgICAgICAgbGV0IFtMLCBDLCBIXSA9IExDSDtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIEwsXG4gICAgICAgICAgICBDICogTWF0aC5jb3MoKEggKiBNYXRoLlBJKSAvIDE4MCksXG4gICAgICAgICAgICBDICogTWF0aC5zaW4oKEggKiBNYXRoLlBJKSAvIDE4MCksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMQ0ggTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIExDSHV2X3RvX1hZWihMQ0gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTHV2X3RvX1hZWih0aGlzLkxDSHV2X3RvX0x1dihMQ0gpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIExDSCBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgTENIdXZfdG9feHlZKExDSCkge1xuICAgICAgICByZXR1cm4gdGhpcy5YWVpfdG9feHlZKHRoaXMuTENIdXZfdG9fWFlaKExDSCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gTENIIE51bWVyaWNUcmlwbGVcbiAgICAgKi9cbiAgICBMQ0h1dl90b19MYWIoTENIKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhZWl90b19MYWIodGhpcy5MQ0h1dl90b19YWVooTENIKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMQ0ggTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIExDSHV2X3RvX0xDSGFiKExDSCkge1xuICAgICAgICByZXR1cm4gdGhpcy5MYWJfdG9fTENIYWIodGhpcy5MQ0h1dl90b19MYWIoTENIKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBMQ0ggTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIExDSHV2X3RvX1JHQihMQ0gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX1JHQih0aGlzLkxDSHV2X3RvX1hZWihMQ0gpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIFJHQiBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgUkdCX3RvX3h5WShSR0IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX3h5WSh0aGlzLlJHQl90b19YWVooUkdCKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBSR0IgTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIFJHQl90b19MQ0hhYihSR0IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTGFiX3RvX0xDSGFiKHRoaXMuUkdCX3RvX0xhYihSR0IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIFJHQiBOdW1lcmljVHJpcGxlXG4gICAgICovXG4gICAgUkdCX3RvX0x1dihSR0IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWFlaX3RvX0x1dih0aGlzLlJHQl90b19YWVooUkdCKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBSR0IgTnVtZXJpY1RyaXBsZVxuICAgICAqL1xuICAgIFJHQl90b19MQ0h1dihSR0IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTHV2X3RvX0xDSHV2KHRoaXMuUkdCX3RvX0x1dihSR0IpKTtcbiAgICB9XG59IC8vIEVuZCBjbGFzcyBkZWZpbml0aW9uXG5leHBvcnRzLkNvbG9yQ29udmVydGVyID0gQ29sb3JDb252ZXJ0ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///564\n')},556:()=>{eval("// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU2LmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29sb3VyLWJsaW5kLXNpbXVsYXRvci8uL3NyYy9zdHlsZXMuc2Nzcz81NzRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///556\n")},570:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// CONCATENATED MODULE: ./src/calibration/CalibrationImage.ts\nclass CalibrationImage {\n    constructor(calibrationCanvas) {\n        this.originX = 51 * 8 / 2;\n        this.originY = 51 * 8 / 2;\n        this.totalX = 51 * 8;\n        this.totalY = 51 * 8;\n        this.calibrationCanvas = calibrationCanvas;\n        this.calibrationCanvas.width = 8 * 51;\n        this.calibrationCanvas.height = 8 * 51;\n        this.calibrationCanvas.style.backgroundColor = "#000000";\n        const myContext = this.calibrationCanvas.getContext("2d");\n        if (myContext === null) {\n            throw new Error("Can\'t get context");\n        }\n        this.context = myContext;\n        this.context.globalCompositeOperation = "source-over";\n    }\n    initialiseCanvas(calibrationGrid) {\n        for (let column = 0; column <= 50; column++) {\n            for (let row = 0; row <= 50; row++) {\n                CalibrationImage.drawCircle(column, row, calibrationGrid.getColourByColumnRow(column, row), this.context);\n            }\n        }\n    }\n    static drawCircle(column, row, color, context) {\n        const drawX = column * 8;\n        const drawY = row * 8;\n        context.fillStyle = `rgb(${color[0]},${color[1]},${color[2]})`;\n        context.fillRect(drawX + 3, drawY + 2, 1, 1);\n        context.fillRect(drawX + 4, drawY + 2, 1, 1);\n        context.fillRect(drawX + 2, drawY + 3, 1, 1);\n        context.fillRect(drawX + 3, drawY + 3, 1, 1);\n        context.fillRect(drawX + 4, drawY + 3, 1, 1);\n        context.fillRect(drawX + 5, drawY + 3, 1, 1);\n        context.fillRect(drawX + 2, drawY + 4, 1, 1);\n        context.fillRect(drawX + 3, drawY + 4, 1, 1);\n        context.fillRect(drawX + 4, drawY + 4, 1, 1);\n        context.fillRect(drawX + 5, drawY + 4, 1, 1);\n        context.fillRect(drawX + 3, drawY + 5, 1, 1);\n        context.fillRect(drawX + 4, drawY + 5, 1, 1);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/calibration/CalibrationGrid.ts\nclass CalibrationGrid {\n    constructor() {\n        this.grid = [];\n        for (let column = 0; column < 51; column++) {\n            const rowArray = [];\n            for (let row = 0; row < 51; row++) {\n                rowArray.push([0, 0, 0]);\n            }\n            this.grid.push(rowArray);\n        }\n    }\n    setColourByXY(x, y, colour) {\n        if (x < -25 || x > 25) {\n            throw new Error("x must be between -25 and 25 inclusive");\n        }\n        if (y < -25 || y > 25) {\n            throw new Error("y must be between -25 and 25 inclusive");\n        }\n        const column = x + 25;\n        const row = y + 25;\n        this.grid[column][row] = colour;\n    }\n    getColourByXY(x, y) {\n        if (x < -25 || x > 25) {\n            throw new Error("x must be between -25 and 25 inclusive");\n        }\n        if (y < -25 || y > 25) {\n            throw new Error("y must be between -25 and 25 inclusive");\n        }\n        const column = x + 25;\n        const row = y + 25;\n        return (this.grid[column][row]);\n    }\n    setColourByColumnRow(column, row, colour) {\n        if (column < 0 || column > 50) {\n            throw new Error("column must be between 0 and 50 inclusive");\n        }\n        if (row < 0 || row > 50) {\n            throw new Error("row must be between 0 and 50 inclusive");\n        }\n        const newRow = 50 - row;\n        this.grid[column][newRow] = colour;\n    }\n    getColourByColumnRow(column, row) {\n        if (column < 0 || column > 51) {\n            throw new Error("column must be between 0 and 51 inclusive");\n        }\n        if (row < 0 || row > 51) {\n            throw new Error("row must be between 0 and 51 inclusive");\n        }\n        const newRow = 50 - row;\n        return (this.grid[column][newRow]);\n    }\n}\n\n// EXTERNAL MODULE: ./node_modules/cie-colorconverter/dist/index.js\nvar dist = __webpack_require__(564);\n;// CONCATENATED MODULE: ./src/calibration/SectorUtilities.ts\nvar Quadrant;\n(function (Quadrant) {\n    Quadrant[Quadrant["North"] = 0] = "North";\n    Quadrant[Quadrant["NorthEast"] = 1] = "NorthEast";\n    Quadrant[Quadrant["East"] = 2] = "East";\n    Quadrant[Quadrant["SouthEast"] = 3] = "SouthEast";\n    Quadrant[Quadrant["South"] = 4] = "South";\n    Quadrant[Quadrant["SouthWest"] = 5] = "SouthWest";\n    Quadrant[Quadrant["West"] = 6] = "West";\n    Quadrant[Quadrant["NorthWest"] = 7] = "NorthWest";\n})(Quadrant || (Quadrant = {}));\nclass SectorUtilities {\n    static GetSectorDefinition(quadrant) {\n        const degrees22Gradient = 0.414213562373095;\n        const degrees67Gradient = 2.414213562373095;\n        let sectorDefinition;\n        switch (quadrant) {\n            case Quadrant.North: {\n                sectorDefinition = {\n                    gradientAntiClockwise: -1 * degrees67Gradient,\n                    gradientClockwise: degrees67Gradient,\n                    gradientAntiClockwisePosition: 1,\n                    gradientClockwisePosition: -1,\n                };\n                break;\n            }\n            case Quadrant.NorthEast: {\n                sectorDefinition = {\n                    gradientAntiClockwise: degrees67Gradient,\n                    gradientClockwise: degrees22Gradient,\n                    gradientAntiClockwisePosition: 1,\n                    gradientClockwisePosition: -1,\n                };\n                break;\n            }\n            case Quadrant.East: {\n                sectorDefinition = {\n                    gradientAntiClockwise: degrees22Gradient,\n                    gradientClockwise: -1 * degrees22Gradient,\n                    gradientAntiClockwisePosition: 1,\n                    gradientClockwisePosition: 1,\n                };\n                break;\n            }\n            case Quadrant.SouthEast: {\n                sectorDefinition = {\n                    gradientAntiClockwise: -1 * degrees22Gradient,\n                    gradientClockwise: -1 * degrees67Gradient,\n                    gradientAntiClockwisePosition: -1,\n                    gradientClockwisePosition: 1,\n                };\n                break;\n            }\n            case Quadrant.South: {\n                sectorDefinition = {\n                    gradientAntiClockwise: -1 * degrees67Gradient,\n                    gradientClockwise: degrees67Gradient,\n                    gradientAntiClockwisePosition: -1,\n                    gradientClockwisePosition: 1,\n                };\n                break;\n            }\n            case Quadrant.SouthWest: {\n                sectorDefinition = {\n                    gradientAntiClockwise: degrees67Gradient,\n                    gradientClockwise: degrees22Gradient,\n                    gradientAntiClockwisePosition: -1,\n                    gradientClockwisePosition: 1,\n                };\n                break;\n            }\n            case Quadrant.West: {\n                sectorDefinition = {\n                    gradientAntiClockwise: degrees22Gradient,\n                    gradientClockwise: -1 * degrees22Gradient,\n                    gradientAntiClockwisePosition: -1,\n                    gradientClockwisePosition: -1,\n                };\n                break;\n            }\n            case Quadrant.NorthWest: {\n                sectorDefinition = {\n                    gradientAntiClockwise: -1 * degrees22Gradient,\n                    gradientClockwise: -1 * degrees67Gradient,\n                    gradientAntiClockwisePosition: 1,\n                    gradientClockwisePosition: -1,\n                };\n                break;\n            }\n            default: {\n                throw new Error("Invalid quadrant");\n            }\n        }\n        return sectorDefinition;\n    }\n    static IsPointInSector(x, y, sectorDefinition) {\n        if (x > -0.5 && x < 0.5 && y > -0.5 && y < 0.5) {\n            return false;\n        }\n        const intercept1x = y / sectorDefinition.gradientAntiClockwise;\n        const intercept2x = y / sectorDefinition.gradientClockwise;\n        return (x * sectorDefinition.gradientAntiClockwisePosition > intercept1x * sectorDefinition.gradientAntiClockwisePosition) &&\n            (x * sectorDefinition.gradientClockwisePosition > intercept2x * sectorDefinition.gradientClockwisePosition);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/calibration/CalibrationSetup.ts\n\n\n\nfunction setupCalibration(baseLuv, testLuv, clearedQuadrant) {\n    const sectorDefinition = SectorUtilities.GetSectorDefinition(clearedQuadrant);\n    const calibrationGrid = new CalibrationGrid();\n    const converter = new dist/* ColorConverter */.N();\n    converter.RefWhite = "D65";\n    converter.GammaModel = "sRGB";\n    for (let x = -25; x <= 25; x++) {\n        for (let y = -25; y <= 25; y++) {\n            const circleRadius = Math.sqrt(x ** 2 + y ** 2);\n            const luminanceVariationBound = 0.5;\n            const luminanceVariation = (Math.random() * luminanceVariationBound - luminanceVariationBound / 2) + 1;\n            if ((circleRadius > 13.5 && circleRadius <= 20.5) && !SectorUtilities.IsPointInSector(x, y, sectorDefinition)) {\n                calibrationGrid.setColourByXY(x, y, converter.Luv_to_RGB([testLuv[0] * luminanceVariation, testLuv[1], testLuv[2]]));\n            }\n            else {\n                calibrationGrid.setColourByXY(x, y, converter.Luv_to_RGB([baseLuv[0] * luminanceVariation, baseLuv[1], baseLuv[2]]));\n            }\n        }\n    }\n    return calibrationGrid;\n}\n\n;// CONCATENATED MODULE: ./src/calibration/CalibrationTest.ts\n\n\n\nclass CalibrationTest {\n    constructor(parentDiv, baseLuv, testLuv) {\n        this.parentDiv = parentDiv;\n        this.container = document.createElement("div");\n        this.parentDiv.appendChild(this.container);\n        this.container.style.background = "#000000";\n        this.container.style.width = "100%";\n        this.container.style.height = "100%";\n        this.container.style.alignItems = "center";\n        this.container.style.justifyContent = "center";\n        this.container.style.display = "flex";\n        this.canvas = document.createElement("canvas");\n        this.canvas.style.margin = "auto";\n        this.container.appendChild(this.canvas);\n        this.calibrationImage = new CalibrationImage(this.canvas);\n        this.baseLuv = baseLuv;\n        this.testLuv = testLuv;\n        this.lastTime = 0;\n        let quadrantSelector = Math.random();\n        while (quadrantSelector === 1) {\n            quadrantSelector = Math.random();\n        }\n        if (quadrantSelector < 0.125) {\n            this.quadrant = Quadrant.North;\n        }\n        else if (quadrantSelector < 0.25) {\n            this.quadrant = Quadrant.NorthEast;\n        }\n        else if (quadrantSelector < 0.375) {\n            this.quadrant = Quadrant.East;\n        }\n        else if (quadrantSelector < 0.5) {\n            this.quadrant = Quadrant.SouthEast;\n        }\n        else if (quadrantSelector < 0.625) {\n            this.quadrant = Quadrant.South;\n        }\n        else if (quadrantSelector < 0.75) {\n            this.quadrant = Quadrant.SouthWest;\n        }\n        else if (quadrantSelector < 0.875) {\n            this.quadrant = Quadrant.West;\n        }\n        else {\n            this.quadrant = Quadrant.NorthWest;\n        }\n        this.animationRunning = false;\n    }\n    async getCalibrationResult() {\n        this.animationRunning = true;\n        window.requestAnimationFrame((time) => { this.animate(time); });\n        return new Promise((resolve) => {\n            this.canvas.addEventListener("click", (event) => {\n                this.animationRunning = false;\n                const x = event.offsetX - this.calibrationImage.originX;\n                const y = this.calibrationImage.totalY - event.offsetY - this.calibrationImage.originY;\n                const sectorDefinition = SectorUtilities.GetSectorDefinition(this.quadrant);\n                const correctClick = SectorUtilities.IsPointInSector(x, y, sectorDefinition);\n                console.log(`OffsetX=${event.offsetX}, OffsetY=${event.offsetY}, X=${x}, Y=${y}, correct=${correctClick ? "true" : "false"}`);\n                resolve(correctClick);\n            }, { once: true });\n        });\n    }\n    animate(time) {\n        if (this.animationRunning) {\n            if (time - this.lastTime > 50) {\n                const generatedGrid = setupCalibration(this.baseLuv, this.testLuv, this.quadrant);\n                this.calibrationImage.initialiseCanvas(generatedGrid);\n                this.lastTime = time;\n            }\n            window.requestAnimationFrame((newTime) => { this.animate(newTime); });\n        }\n    }\n}\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\nconst approach1Button = document.querySelector("#approach1");\nif (approach1Button === null) {\n    throw new Error("Can\'t locate intorduction container");\n}\napproach1Button.addEventListener("click", () => {\n    const introductionContainer = document.querySelector("#introduction");\n    const calibrationHost = document.querySelector("#canvasHost");\n    if (introductionContainer === null) {\n        throw new Error("Can\'t locate intorduction container");\n    }\n    if (calibrationHost === null) {\n        throw new Error("Can\'t find canvashost");\n    }\n    introductionContainer.classList.add("hide-all");\n    calibrationHost.classList.remove("hide-all");\n    const tester = new CalibrationTest(calibrationHost, [50, 22.294886634339058, 80.86387581452101], [50, -120, 25]);\n    const promise = tester.getCalibrationResult();\n    promise.then((result) => { alert(`You ${result ? "have" : "haven\'t"} clicked on the gap`); });\n});\nconst x = 0.403;\nconst y = 0.442;\nconst Y = 0.5;\nconst X = Y / y * x;\nconst Z = Y / y * (1 - x - y);\nconst converter = new dist/* ColorConverter */.N();\nconverter.RefWhite = "D65";\nconverter.GammaModel = "sRGB";\nconst Luv = converter.XYZ_to_Luv([X, Y, Z]);\nconsole.count(`Luv=[${Luv[0]}, ${Luv[1]}, ${Luv[2]}], u\'=${4 * X / (X + 15 * Y + 3 * Z)} v\'=${9 * Y / (X + 15 * Y + 3 * Z)}`);\nconsole.log("foo");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbG91ci1ibGluZC1zaW11bGF0b3IvLi9zcmMvY2FsaWJyYXRpb24vQ2FsaWJyYXRpb25JbWFnZS50cz85YTI0Iiwid2VicGFjazovL2NvbG91ci1ibGluZC1zaW11bGF0b3IvLi9zcmMvY2FsaWJyYXRpb24vQ2FsaWJyYXRpb25HcmlkLnRzPzRjMzUiLCJ3ZWJwYWNrOi8vY29sb3VyLWJsaW5kLXNpbXVsYXRvci8uL3NyYy9jYWxpYnJhdGlvbi9TZWN0b3JVdGlsaXRpZXMudHM/M2U1MCIsIndlYnBhY2s6Ly9jb2xvdXItYmxpbmQtc2ltdWxhdG9yLy4vc3JjL2NhbGlicmF0aW9uL0NhbGlicmF0aW9uU2V0dXAudHM/MDRhMiIsIndlYnBhY2s6Ly9jb2xvdXItYmxpbmQtc2ltdWxhdG9yLy4vc3JjL2NhbGlicmF0aW9uL0NhbGlicmF0aW9uVGVzdC50cz81ZjRmIiwid2VicGFjazovL2NvbG91ci1ibGluZC1zaW11bGF0b3IvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE51bWVyaWNUcmlwbGUgfSBmcm9tIFwiY2llLWNvbG9yY29udmVydGVyL2Rpc3QvTWF0cml4XCI7XG5pbXBvcnQgdHlwZSB7IENhbGlicmF0aW9uR3JpZCB9IGZyb20gXCIuL0NhbGlicmF0aW9uR3JpZFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FsaWJyYXRpb25JbWFnZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjYWxpYnJhdGlvbkNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3JpZ2luWD01MSo4LzI7XG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpblk9NTEqOC8yO1xuICAgIHB1YmxpYyByZWFkb25seSB0b3RhbFg9NTEqODtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdG90YWxZPTUxKjg7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY2FsaWJyYXRpb25DYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2FsaWJyYXRpb25DYW52YXMgPSBjYWxpYnJhdGlvbkNhbnZhcztcbiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNhbnZhcy53aWR0aCA9IDggKiA1MTtcbiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNhbnZhcy5oZWlnaHQgPSA4ICogNTE7XG4gICAgICAgIHRoaXMuY2FsaWJyYXRpb25DYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIGNvbnN0IG15Q29udGV4dCA9IHRoaXMuY2FsaWJyYXRpb25DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBpZiAobXlDb250ZXh0PT09bnVsbCl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBnZXQgY29udGV4dFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQ9bXlDb250ZXh0O1xuICAgICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0aWFsaXNlQ2FudmFzKGNhbGlicmF0aW9uR3JpZDogQ2FsaWJyYXRpb25HcmlkKTogdm9pZCB7XG4gICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8PSA1MDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8PSA1MDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBDYWxpYnJhdGlvbkltYWdlLmRyYXdDaXJjbGUoY29sdW1uLCByb3csIGNhbGlicmF0aW9uR3JpZC5nZXRDb2xvdXJCeUNvbHVtblJvdyhjb2x1bW4sIHJvdyksIHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByaXZhdGUgc3RhdGljIGRyYXdDaXJjbGUoY29sdW1uOiBudW1iZXIsIHJvdzogbnVtYmVyLCBjb2xvcjogTnVtZXJpY1RyaXBsZSwgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRyYXdYID0gY29sdW1uICogODtcbiAgICAgICAgY29uc3QgZHJhd1kgPSByb3cgKiA4O1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYHJnYigke2NvbG9yWzBdfSwke2NvbG9yWzFdfSwke2NvbG9yWzJdfSlgO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoZHJhd1ggKyAzLCBkcmF3WSArIDIsIDEsIDEpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGRyYXdYICsgNCwgZHJhd1kgKyAyLCAxLCAxKTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChkcmF3WCArIDIsIGRyYXdZICsgMywgMSwgMSk7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoZHJhd1ggKyAzLCBkcmF3WSArIDMsIDEsIDEpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGRyYXdYICsgNCwgZHJhd1kgKyAzLCAxLCAxKTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChkcmF3WCArIDUsIGRyYXdZICsgMywgMSwgMSk7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoZHJhd1ggKyAyLCBkcmF3WSArIDQsIDEsIDEpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGRyYXdYICsgMywgZHJhd1kgKyA0LCAxLCAxKTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChkcmF3WCArIDQsIGRyYXdZICsgNCwgMSwgMSk7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoZHJhd1ggKyA1LCBkcmF3WSArIDQsIDEsIDEpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGRyYXdYICsgMywgZHJhd1kgKyA1LCAxLCAxKTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChkcmF3WCArIDQsIGRyYXdZICsgNSwgMSwgMSk7XG4gICAgfVxufSIsImltcG9ydCB0eXBlIHsgTnVtZXJpY1RyaXBsZSB9IGZyb20gXCJjaWUtY29sb3Jjb252ZXJ0ZXIvZGlzdC9NYXRyaXhcIjtcblxuZXhwb3J0IGNsYXNzIENhbGlicmF0aW9uR3JpZCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkOiBOdW1lcmljVHJpcGxlW11bXSA9IFtdO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBJbml0aWFsaXNlIHRoZSBtYXRyaXggYXJyYXkuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgNTE7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICBjb25zdCByb3dBcnJheTogTnVtZXJpY1RyaXBsZVtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA1MTsgcm93KyspIHtcblxuICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2goWzAsIDAsIDBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ3JpZC5wdXNoKHJvd0FycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdoZW4gd2UgZ2VuZXJhdGUgdGhlc2UsIHdlIHdhbnQgdG8gdXNlIHggYW5kIHkgcmFuZ2luZyBmcm9tIC0yNSB0byAyNSwgd2l0aHRoZSBvcmlnaW4gaW4gdGhlIGNlbnRyZVxuICAgIHB1YmxpYyBzZXRDb2xvdXJCeVhZKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvdXI6IE51bWVyaWNUcmlwbGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHggPCAtMjUgfHwgeCA+IDI1KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ4IG11c3QgYmUgYmV0d2VlbiAtMjUgYW5kIDI1IGluY2x1c2l2ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IC0yNSB8fCB5ID4gMjUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInkgbXVzdCBiZSBiZXR3ZWVuIC0yNSBhbmQgMjUgaW5jbHVzaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29sdW1uID0geCArIDI1O1xuICAgICAgICBjb25zdCByb3cgPSB5ICsgMjU7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgdGhpcy5ncmlkW2NvbHVtbl0hW3Jvd10gPSBjb2xvdXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbG91ckJ5WFkoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBOdW1lcmljVHJpcGxlIHtcbiAgICAgICAgaWYgKHggPCAtMjUgfHwgeCA+IDI1KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ4IG11c3QgYmUgYmV0d2VlbiAtMjUgYW5kIDI1IGluY2x1c2l2ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IC0yNSB8fCB5ID4gMjUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInkgbXVzdCBiZSBiZXR3ZWVuIC0yNSBhbmQgMjUgaW5jbHVzaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29sdW1uID0geCArIDI1O1xuICAgICAgICBjb25zdCByb3cgPSB5ICsgMjU7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgcmV0dXJuICh0aGlzLmdyaWRbY29sdW1uXSFbcm93XSEpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gd2Ugd2FudCB0byBkcmF3IHRoZXNlIG9uIHRoZSBzY3JlZW4sIHdlIHdhbnQgdG8gdXNlIHJvdy9jb2x1bW4gZnJvbSAwIHRvIDUxIHdpdGggdGhlIG9yaWdpbiBpblxuICAgIC8vIHRoZSB0b3AgbGVmdCwgc28gYXMgd2UgbW92ZSBkb3duLCB3ZSBuZWVkIHRvIGluY3JlYXNlIHRoZSBudW1iZXJzICAgIFxuICAgIHB1YmxpYyBzZXRDb2xvdXJCeUNvbHVtblJvdyhjb2x1bW46IG51bWJlciwgcm93OiBudW1iZXIsIGNvbG91cjogTnVtZXJpY1RyaXBsZSk6IHZvaWQge1xuICAgICAgICBpZiAoY29sdW1uIDwgMCB8fCBjb2x1bW4gPiA1MCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29sdW1uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA1MCBpbmNsdXNpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdyA8IDAgfHwgcm93ID4gNTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJvdyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNTAgaW5jbHVzaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3Um93ID0gNTAgLSByb3c7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgdGhpcy5ncmlkW2NvbHVtbl0hW25ld1Jvd10gPSBjb2xvdXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbG91ckJ5Q29sdW1uUm93KGNvbHVtbjogbnVtYmVyLCByb3c6IG51bWJlcik6IE51bWVyaWNUcmlwbGUge1xuICAgICAgICBpZiAoY29sdW1uIDwgMCB8fCBjb2x1bW4gPiA1MSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29sdW1uIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA1MSBpbmNsdXNpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdyA8IDAgfHwgcm93ID4gNTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJvdyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNTEgaW5jbHVzaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3Um93ID0gNTAgLSByb3c7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgcmV0dXJuICh0aGlzLmdyaWRbY29sdW1uXSFbbmV3Um93XSEpO1xuICAgIH1cblxuXG59IiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuZXhwb3J0IGNvbnN0IGVudW0gUXVhZHJhbnQge1xuICAgIE5vcnRoLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgTm9ydGhFYXN0LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgRWFzdCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIFNvdXRoRWFzdCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIFNvdXRoLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgU291dGhXZXN0LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgV2VzdCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIE5vcnRoV2VzdCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xufVxuXG5leHBvcnQgdHlwZSBTZWN0b3JEZWZpbml0aW9uID0ge1xuICAgIC8vIFRoZSBncmFkaWVudHMgb2YgdGhlIGNsb2Nrd2lzZSBhbmQgYW50aWNsb2Nrd2lzZSBlZGdlcyBvZiB0aGUgc2VnbWVudFxuICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZTogbnVtYmVyO1xuICAgIGdyYWRpZW50Q2xvY2t3aXNlOiBudW1iZXI7XG5cbiAgICAvLyBUaGUgcG9zaXRpb24gb2YgdGhlIGVkZ2UgcmVsYXRpdmUgdG8gYSBwb2ludCBpbiB0aGUgd2VkZ2UuXG4gICAgLy8gSWYgdGhpcyBpcyBwb3NpdGl2ZSwgdGhlIHBvaW50cyB3ZSB3YW50IGFyZSB0byB0aGUgcmlnaHQgb2YgdGhlIGVkZ2UsIGlmIGl0IGlzIG5lZ2F0aXZlLCB0aGUgbGVmdFxuICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZVBvc2l0aW9uOiBudW1iZXI7XG4gICAgZ3JhZGllbnRDbG9ja3dpc2VQb3NpdGlvbjogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNsYXNzIFNlY3RvclV0aWxpdGllcyB7XG5cbiAgICBwdWJsaWMgc3RhdGljIEdldFNlY3RvckRlZmluaXRpb24ocXVhZHJhbnQ6IFF1YWRyYW50KTogU2VjdG9yRGVmaW5pdGlvbiB7XG4gICAgICAgIC8vIFRvIGZpbmQgdGhlIHNlZ21lbnQgdGhhdCB3ZSdyZSBub3QgaW50ZXJlc3RlZCBpbiwgd2UgbmVlZCB0aGUgZ3JhZGllbnRzIG9mIHRoZSB0d28gbGluZXNcbiAgICAgICAgLy8gdGhhdCBkZWxpbmlhdGUgb3VyIHNlZ21lbnRzLCBhdCBlaXRoZXIgMjIuNSBvciA2Ny41IGRlZ3JlZXNcbiAgICAgICAgLy8gVGhlIGxpbmVzIG9uIHRoZSBlZGdlIG9mIG91ciBzbGljZSBhcmUgZWl0aGVyIGF0ICsvLSAyMi41IGFuZCArLy02Ny41IGRlZ3JlZXMuXG4gICAgICAgIGNvbnN0IGRlZ3JlZXMyMkdyYWRpZW50ID0gMC40MTQyMTM1NjIzNzMwOTU7XG4gICAgICAgIGNvbnN0IGRlZ3JlZXM2N0dyYWRpZW50ID0gMi40MTQyMTM1NjIzNzMwOTU7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBncmFkaWVudHMgb2YgdGhlIHR3byBsaW5lcyB3ZSdyZSBpbnRlcmVzdGVkIGluLCB3aXRoIHRoZSBmaXJzdCBiZWluZyB0aGUgYW50aSBjbG9ja3dpc2UgYm9yZGVyLCBcbiAgICAgICAgLy8gYW5kIHRoZSBzZWNvbmQgYmVpbmcgdGhlIGNsb2Nrd2lzZVxuXG4gICAgICAgIGxldCBzZWN0b3JEZWZpbml0aW9uOiBTZWN0b3JEZWZpbml0aW9uO1xuXG4gICAgICAgIHN3aXRjaCAocXVhZHJhbnQpIHtcbiAgICAgICAgICAgIGNhc2UgUXVhZHJhbnQuTm9ydGg6IHtcbiAgICAgICAgICAgICAgICBzZWN0b3JEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudEFudGlDbG9ja3dpc2U6IC0xICogZGVncmVlczY3R3JhZGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlOiBkZWdyZWVzNjdHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb246IC0xLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFF1YWRyYW50Lk5vcnRoRWFzdDoge1xuICAgICAgICAgICAgICAgIHNlY3RvckRlZmluaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZTogZGVncmVlczY3R3JhZGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlOiBkZWdyZWVzMjJHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb246IC0xLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFF1YWRyYW50LkVhc3Q6IHtcbiAgICAgICAgICAgICAgICBzZWN0b3JEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudEFudGlDbG9ja3dpc2U6IGRlZ3JlZXMyMkdyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZTogLTEgKiBkZWdyZWVzMjJHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb246IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUXVhZHJhbnQuU291dGhFYXN0OiB7XG4gICAgICAgICAgICAgICAgc2VjdG9yRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlOiAtMSAqIGRlZ3JlZXMyMkdyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZTogLTEgKiBkZWdyZWVzNjdHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb246IC0xLFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZVBvc2l0aW9uOiAxLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFF1YWRyYW50LlNvdXRoOiB7XG4gICAgICAgICAgICAgICAgc2VjdG9yRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlOiAtMSAqIGRlZ3JlZXM2N0dyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZTogZGVncmVlczY3R3JhZGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZVBvc2l0aW9uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRDbG9ja3dpc2VQb3NpdGlvbjogMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBRdWFkcmFudC5Tb3V0aFdlc3Q6IHtcbiAgICAgICAgICAgICAgICBzZWN0b3JEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudEFudGlDbG9ja3dpc2U6IGRlZ3JlZXM2N0dyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZTogZGVncmVlczIyR3JhZGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZVBvc2l0aW9uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRDbG9ja3dpc2VQb3NpdGlvbjogMSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBRdWFkcmFudC5XZXN0OiB7XG4gICAgICAgICAgICAgICAgc2VjdG9yRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlOiBkZWdyZWVzMjJHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRDbG9ja3dpc2U6IC0xICogZGVncmVlczIyR3JhZGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50QW50aUNsb2Nrd2lzZVBvc2l0aW9uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRDbG9ja3dpc2VQb3NpdGlvbjogLTEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgUXVhZHJhbnQuTm9ydGhXZXN0OiB7XG4gICAgICAgICAgICAgICAgc2VjdG9yRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlOiAtMSAqIGRlZ3JlZXMyMkdyYWRpZW50LFxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENsb2Nrd2lzZTogLTEgKiBkZWdyZWVzNjdHcmFkaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb246IC0xLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBxdWFkcmFudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdG9yRGVmaW5pdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIElzUG9pbnRJblNlY3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgc2VjdG9yRGVmaW5pdGlvbjogU2VjdG9yRGVmaW5pdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICAvLyAwLDAgaXMgbmV2ZXIgaW5jbHVkZWQgaW4gdGhlIHNlY3Rvciwgbm8gbWF0dGVyIHdoYXQuXG4gICAgICAgIGlmICh4ID4gLTAuNSAmJiB4IDwgMC41ICYmIHkgPiAtMC41ICYmIHkgPCAwLjUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvIHNlZSBpZiB3ZSBuZWVkIHRvIGV4Y2x1ZGUgdGhlcG9pbnRzIGZvciB0aGUgd2VkZ2UsIHdlIGNhbGN1bGF0ZSB3aGF0IHRoZSB4IHZhbHVlIGFsb25nIHRoZVxuICAgICAgICAvLyB0d28gbGluZXMgb2YgdGhlIHdlZGdlIGFyZSB0byBtYXRjaCB0aGUgY3VycmVudCB5LiBUaGUgeCBzaG91bGQgYmUgYmV0d2VlbiB0aGVtIFxuICAgICAgICBjb25zdCBpbnRlcmNlcHQxeCA9IHkgLyBzZWN0b3JEZWZpbml0aW9uLmdyYWRpZW50QW50aUNsb2Nrd2lzZTtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0MnggPSB5IC8gc2VjdG9yRGVmaW5pdGlvbi5ncmFkaWVudENsb2Nrd2lzZTtcblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb24gYW5kIGdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb24gYXJlIGFkanN1dG1lbnRzIHRvIGFjY291bnQgZm9yXG4gICAgICAgIC8vIG5lZWRpbmcgdG8gYmUgb24gdGhlIGxlZnQgb3IgdGhlIHJpZ2h0IG9mIHRoZSBsaW5lXG4gICAgICAgIHJldHVybiAoeCAqIHNlY3RvckRlZmluaXRpb24uZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb24gPiBpbnRlcmNlcHQxeCAqIHNlY3RvckRlZmluaXRpb24uZ3JhZGllbnRBbnRpQ2xvY2t3aXNlUG9zaXRpb24pICYmIFxuICAgICAgICAgICAgKHggKiBzZWN0b3JEZWZpbml0aW9uLmdyYWRpZW50Q2xvY2t3aXNlUG9zaXRpb24gPiBpbnRlcmNlcHQyeCAqIHNlY3RvckRlZmluaXRpb24uZ3JhZGllbnRDbG9ja3dpc2VQb3NpdGlvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBOdW1lcmljVHJpcGxlIH0gZnJvbSBcImNpZS1jb2xvcmNvbnZlcnRlci9kaXN0L01hdHJpeFwiO1xuaW1wb3J0IHsgQ2FsaWJyYXRpb25HcmlkIH0gZnJvbSBcIi4vQ2FsaWJyYXRpb25HcmlkXCI7XG5pbXBvcnQgeyBDb2xvckNvbnZlcnRlciB9IGZyb20gXCJjaWUtY29sb3Jjb252ZXJ0ZXJcIjtcbmltcG9ydCB0eXBlIHsgUXVhZHJhbnQgfSBmcm9tIFwiLi9TZWN0b3JVdGlsaXRpZXNcIjtcbmltcG9ydCB7IFNlY3RvclV0aWxpdGllcyB9IGZyb20gXCIuL1NlY3RvclV0aWxpdGllc1wiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWR1cGxpY2F0ZS1pbXBvcnRzXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQ2FsaWJyYXRpb24oYmFzZUx1djogTnVtZXJpY1RyaXBsZSwgdGVzdEx1djogTnVtZXJpY1RyaXBsZSwgY2xlYXJlZFF1YWRyYW50OiBRdWFkcmFudCk6IENhbGlicmF0aW9uR3JpZCB7XG4gICAgY29uc3Qgc2VjdG9yRGVmaW5pdGlvbiA9IFNlY3RvclV0aWxpdGllcy5HZXRTZWN0b3JEZWZpbml0aW9uKGNsZWFyZWRRdWFkcmFudCk7XG5cbiAgICBjb25zdCBjYWxpYnJhdGlvbkdyaWQgPSBuZXcgQ2FsaWJyYXRpb25HcmlkKCk7XG5cbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBuZXcgQ29sb3JDb252ZXJ0ZXIoKTtcblxuICAgIGNvbnZlcnRlci5SZWZXaGl0ZSA9IFwiRDY1XCI7XG4gICAgY29udmVydGVyLkdhbW1hTW9kZWw9XCJzUkdCXCI7XG5cbiAgICBmb3IgKGxldCB4ID0gLTI1OyB4IDw9IDI1OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeSA9IC0yNTsgeSA8PSAyNTsgeSsrKSB7XG4gICAgICAgICAgICAvLyBUbyBzZWUgaWYgcG9pbnRzIGFyZSBpbiB0aGUgY2lyY2xlLCB1c2UgdGhlIGZvcm11bGEgZm9yIGEgY2lyY2xlOiB4XjIreV4yPXJhZGl1c14yLFxuICAgICAgICAgICAgLy8gYW5kIHNlZSBpZiB0aGUgcmFkaXVzIGZhbGxzIGludG8gdGhlIG9uZSB0aGF0IHdlIHdhbnQuIE9ubHkgY2FsY3VsYXRlIGl0IG9uY2UuLi5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZVJhZGl1cyA9IE1hdGguc3FydCh4ICoqIDIgKyB5ICoqIDIpO1xuXG5cbiAgICAgICAgICAgIGNvbnN0IGx1bWluYW5jZVZhcmlhdGlvbkJvdW5kID0gMC41O1xuICAgICAgICAgICAgY29uc3QgbHVtaW5hbmNlVmFyaWF0aW9uID0gKE1hdGgucmFuZG9tKCkgKiBsdW1pbmFuY2VWYXJpYXRpb25Cb3VuZCAtIGx1bWluYW5jZVZhcmlhdGlvbkJvdW5kIC8gMikgKyAxO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGRyYXcgYSBjb2xvdXIgcG9pbnQsIG9yIGEgYmFja2dyb3VuZCBwb2ludC4gV2Ugd2FudCB0byBkcmF3XG4gICAgICAgICAgICAvLyBhIGNvbG91ciBwb2ludCwgb24gdGhlIGNpcmNsZSwgdW5sZXNzIGl0J3MgYWxzbyBwYXJ0IG9mIHRoZSBlbXB0eSB3ZWRnZS5cbiAgICAgICAgICAgIGlmICgoY2lyY2xlUmFkaXVzID4gMTMuNSAmJiBjaXJjbGVSYWRpdXMgPD0gMjAuNSkgJiYgIVNlY3RvclV0aWxpdGllcy5Jc1BvaW50SW5TZWN0b3IoeCwgeSwgc2VjdG9yRGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjYWxpYnJhdGlvbkdyaWQuc2V0Q29sb3VyQnlYWSh4LCB5LCBjb252ZXJ0ZXIuTHV2X3RvX1JHQihbdGVzdEx1dlswXSAqIGx1bWluYW5jZVZhcmlhdGlvbiwgdGVzdEx1dlsxXSwgdGVzdEx1dlsyXV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGlicmF0aW9uR3JpZC5zZXRDb2xvdXJCeVhZKHgsIHksIGNvbnZlcnRlci5MdXZfdG9fUkdCKFtiYXNlTHV2WzBdICogbHVtaW5hbmNlVmFyaWF0aW9uLCBiYXNlTHV2WzFdLCBiYXNlTHV2WzJdXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGlicmF0aW9uR3JpZDtcbn0iLCJpbXBvcnQgdHlwZSB7IE51bWVyaWNUcmlwbGUgfSBmcm9tIFwiY2llLWNvbG9yY29udmVydGVyL2Rpc3QvTWF0cml4XCI7XG5pbXBvcnQgeyBDYWxpYnJhdGlvbkltYWdlIH0gZnJvbSBcIi4vQ2FsaWJyYXRpb25JbWFnZVwiO1xuaW1wb3J0IHsgc2V0dXBDYWxpYnJhdGlvbiB9IGZyb20gXCIuL0NhbGlicmF0aW9uU2V0dXBcIjtcbmltcG9ydCB7IFF1YWRyYW50LCBTZWN0b3JVdGlsaXRpZXMgfSBmcm9tIFwiLi9TZWN0b3JVdGlsaXRpZXNcIjtcblxuZXhwb3J0IGNsYXNzIENhbGlicmF0aW9uVGVzdCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFyZW50RGl2OiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhbGlicmF0aW9uSW1hZ2U6IENhbGlicmF0aW9uSW1hZ2U7XG4gICAgcHJpdmF0ZSBsYXN0VGltZTogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBiYXNlTHV2OiBOdW1lcmljVHJpcGxlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGVzdEx1djogTnVtZXJpY1RyaXBsZTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVhZHJhbnQ6IFF1YWRyYW50O1xuXG4gICAgcHJpdmF0ZSBhbmltYXRpb25SdW5uaW5nOiBib29sZWFuO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudERpdjogSFRNTERpdkVsZW1lbnQsIGJhc2VMdXY6IE51bWVyaWNUcmlwbGUsIHRlc3RMdXY6IE51bWVyaWNUcmlwbGUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnREaXYgPSBwYXJlbnREaXY7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnBhcmVudERpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLm1hcmdpbiA9IFwiYXV0b1wiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG5cbiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkltYWdlID0gbmV3IENhbGlicmF0aW9uSW1hZ2UodGhpcy5jYW52YXMpO1xuXG4gICAgICAgIHRoaXMuYmFzZUx1diA9IGJhc2VMdXY7XG4gICAgICAgIHRoaXMudGVzdEx1diA9IHRlc3RMdXY7XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IDA7XG5cbiAgICAgICAgbGV0IHF1YWRyYW50U2VsZWN0b3IgPSBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgIC8vIHRvIG1ha2Ugc3VyZSB3ZSBoYXZlIGVxdWFsIGNoYW5jZXMgb2YgZWFjaCBxdWFkcmFudCwgd2UgbmVlZCB0byBleGNsdWRlIDFcbiAgICAgICAgd2hpbGUgKHF1YWRyYW50U2VsZWN0b3IgPT09IDEpIHtcbiAgICAgICAgICAgIHF1YWRyYW50U2VsZWN0b3IgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWFkcmFudFNlbGVjdG9yIDwgMC4xMjUpIHtcbiAgICAgICAgICAgIHRoaXMucXVhZHJhbnQgPSBRdWFkcmFudC5Ob3J0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxdWFkcmFudFNlbGVjdG9yIDwgMC4yNSkge1xuICAgICAgICAgICAgdGhpcy5xdWFkcmFudCA9IFF1YWRyYW50Lk5vcnRoRWFzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxdWFkcmFudFNlbGVjdG9yIDwgMC4zNzUpIHtcbiAgICAgICAgICAgIHRoaXMucXVhZHJhbnQgPSBRdWFkcmFudC5FYXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHF1YWRyYW50U2VsZWN0b3IgPCAwLjUpIHtcbiAgICAgICAgICAgIHRoaXMucXVhZHJhbnQgPSBRdWFkcmFudC5Tb3V0aEVhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocXVhZHJhbnRTZWxlY3RvciA8IDAuNjI1KSB7XG4gICAgICAgICAgICB0aGlzLnF1YWRyYW50ID0gUXVhZHJhbnQuU291dGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocXVhZHJhbnRTZWxlY3RvciA8IDAuNzUpIHtcbiAgICAgICAgICAgIHRoaXMucXVhZHJhbnQgPSBRdWFkcmFudC5Tb3V0aFdlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocXVhZHJhbnRTZWxlY3RvciA8IDAuODc1KSB7XG4gICAgICAgICAgICB0aGlzLnF1YWRyYW50ID0gUXVhZHJhbnQuV2VzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucXVhZHJhbnQgPSBRdWFkcmFudC5Ob3J0aFdlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFuaW1hdGlvblJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1hd2FpdFxuICAgIHB1YmxpYyBhc3luYyBnZXRDYWxpYnJhdGlvblJlc3VsdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25SdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZTogbnVtYmVyKSA9PiB7IHRoaXMuYW5pbWF0ZSh0aW1lKTsgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25SdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBjby1vcmRpbmF0ZSBzeXN0ZW0gZnJvbSBvcmlnaW4gYXQgdG9wIGxlZnQsIHkgaW5jcmVhc2luZyBkb3duIHRvIGNlbnRlcmVkIG9yaWdpblxuICAgICAgICAgICAgICAgIGNvbnN0IHg9ZXZlbnQub2Zmc2V0WC10aGlzLmNhbGlicmF0aW9uSW1hZ2Uub3JpZ2luWDtcbiAgICAgICAgICAgICAgICBjb25zdCB5PXRoaXMuY2FsaWJyYXRpb25JbWFnZS50b3RhbFktZXZlbnQub2Zmc2V0WS10aGlzLmNhbGlicmF0aW9uSW1hZ2Uub3JpZ2luWTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JEZWZpbml0aW9uID0gU2VjdG9yVXRpbGl0aWVzLkdldFNlY3RvckRlZmluaXRpb24odGhpcy5xdWFkcmFudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ycmVjdENsaWNrID0gU2VjdG9yVXRpbGl0aWVzLklzUG9pbnRJblNlY3Rvcih4LHksc2VjdG9yRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE9mZnNldFg9JHtldmVudC5vZmZzZXRYfSwgT2Zmc2V0WT0ke2V2ZW50Lm9mZnNldFl9LCBYPSR7eH0sIFk9JHt5fSwgY29ycmVjdD0ke2NvcnJlY3RDbGljaz9cInRydWVcIjpcImZhbHNlXCJ9YCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjb3JyZWN0Q2xpY2spO1xuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5pbWF0ZSh0aW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uUnVubmluZykge1xuICAgICAgICAgICAgaWYgKHRpbWUgLSB0aGlzLmxhc3RUaW1lID4gNTApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRHcmlkID0gc2V0dXBDYWxpYnJhdGlvbih0aGlzLmJhc2VMdXYsIHRoaXMudGVzdEx1diwgdGhpcy5xdWFkcmFudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkltYWdlLmluaXRpYWxpc2VDYW52YXMoZ2VuZXJhdGVkR3JpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChuZXdUaW1lOiBudW1iZXIpID0+IHsgdGhpcy5hbmltYXRlKG5ld1RpbWUpOyB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBDYWxpYnJhdGlvblRlc3QgfSBmcm9tIFwiLi9jYWxpYnJhdGlvbi9DYWxpYnJhdGlvblRlc3RcIjtcblxuaW1wb3J0IHsgQ29sb3JDb252ZXJ0ZXIgfSBmcm9tIFwiY2llLWNvbG9yY29udmVydGVyXCI7XG5cbmNvbnN0IGFwcHJvYWNoMUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2FwcHJvYWNoMVwiKTtcblxuaWYgKGFwcHJvYWNoMUJ1dHRvbj09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgbG9jYXRlIGludG9yZHVjdGlvbiBjb250YWluZXJcIik7XG59XG5cbmFwcHJvYWNoMUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGludHJvZHVjdGlvbkNvbnRhaW5lcj0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIjaW50cm9kdWN0aW9uXCIpO1xuICAgIGNvbnN0IGNhbGlicmF0aW9uSG9zdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KFwiI2NhbnZhc0hvc3RcIik7XG4gICAgaWYgKGludHJvZHVjdGlvbkNvbnRhaW5lcj09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGxvY2F0ZSBpbnRvcmR1Y3Rpb24gY29udGFpbmVyXCIpO1xuICAgIH1cbiAgICBpZiAoY2FsaWJyYXRpb25Ib3N0ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgY2FudmFzaG9zdFwiKTtcbiAgICB9XG4gICAgaW50cm9kdWN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRlLWFsbFwiKTtcbiAgICBjYWxpYnJhdGlvbkhvc3QuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtYWxsXCIpO1xuXG4gICAgY29uc3QgdGVzdGVyID0gbmV3IENhbGlicmF0aW9uVGVzdChjYWxpYnJhdGlvbkhvc3QsIFs1MCwgMjIuMjk0ODg2NjM0MzM5MDU4LCA4MC44NjM4NzU4MTQ1MjEwMV0sIFs1MCwgLTEyMCwgMjVdKTtcbiAgICBjb25zdCBwcm9taXNlID0gdGVzdGVyLmdldENhbGlicmF0aW9uUmVzdWx0KCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgcHJvbWlzZS50aGVuKChyZXN1bHQpID0+IHsgYWxlcnQoYFlvdSAke3Jlc3VsdCA/IFwiaGF2ZVwiIDogXCJoYXZlbid0XCJ9IGNsaWNrZWQgb24gdGhlIGdhcGApOyB9KTtcbn0pO1xuXG5jb25zdCB4ID0gMC40MDM7XG5jb25zdCB5ID0gMC40NDI7XG5cbmNvbnN0IFkgPSAwLjU7XG5jb25zdCBYID0gWSAvIHkgKiB4O1xuY29uc3QgWiA9IFkgLyB5ICogKDEgLSB4IC0geSk7XG5cbmNvbnN0IGNvbnZlcnRlciA9IG5ldyBDb2xvckNvbnZlcnRlcigpO1xuXG5jb252ZXJ0ZXIuUmVmV2hpdGUgPSBcIkQ2NVwiO1xuY29udmVydGVyLkdhbW1hTW9kZWwgPSBcInNSR0JcIjtcblxuY29uc3QgTHV2ID0gY29udmVydGVyLlhZWl90b19MdXYoW1gsIFksIFpdKTtcblxuY29uc29sZS5jb3VudChgTHV2PVske0x1dlswXX0sICR7THV2WzFdfSwgJHtMdXZbMl19XSwgdSc9JHs0ICogWCAvIChYICsgMTUgKiBZICsgMyAqIFopfSB2Jz0kezkgKiBZIC8gKFggKyAxNSAqIFkgKyAzICogWil9YCk7XG5cblxuXG5jb25zb2xlLmxvZyhcImZvb1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///570\n')}},__webpack_module_cache__={};function __webpack_require__(I){var g=__webpack_module_cache__[I];if(void 0!==g)return g.exports;var C=__webpack_module_cache__[I]={exports:{}};return __webpack_modules__[I](C,C.exports,__webpack_require__),C.exports}__webpack_require__(570);var __webpack_exports__=__webpack_require__(556)})();